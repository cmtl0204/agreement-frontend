import{a as At,b as Et}from"./chunk-LZZDBSTP.js";import{b as at}from"./chunk-SPMLKPHR.js";import{a as ht,b as xt}from"./chunk-C2MALXQC.js";import"./chunk-G4OVCVLI.js";import"./chunk-ISADC5UE.js";import"./chunk-PBCIGM6W.js";import{A as Ve,B as ke,Fa as _e,Ga as ft,Ia as Ct,Ja as bt,Ka as ue,Wa as vt,ea as mt,ga as X,ha as Z,i as Se,ia as ee,ja as te,k as fe,m as ye,ma as ct,n as Ie,o as Q,oa as ie,pa as dt,q as we,qa as Re,s as De,sa as Ne,ta as pt,u as Be,ua as $e,v as Pe,va as _t,x as rt,ya as ut,z as lt,za as gt}from"./chunk-QE2E6YRM.js";import{j as J,k as ot,m as Me,n as st}from"./chunk-YQJQS4JL.js";import{$ as et,A as Ae,E as ge,I as Ge,J as E,K as L,L as F,M as K,N as B,Q as z,_ as Y,ba as tt,ca as Ee,da as D,e as Xe,ea as Le,fa as ae,ga as Fe,ha as it,k as N,na as pe,o as G,pa as nt,qa as Te,r as U,s as W,sa as j,u as de,v as q,x as Ze,z as xe}from"./chunk-CK22UZYV.js";import{Aa as A,Ba as h,Ca as r,E as be,H as u,J as $,Ja as me,K as ve,La as d,Ma as P,Na as f,O as C,Oa as oe,Ob as he,P as b,Pa as Ye,Qa as k,Ra as M,Rb as He,Sa as R,Wa as re,Xa as je,_ as o,eb as I,fb as le,gb as H,ja as p,ka as O,la as c,oa as ne,pa as V,qa as g,ra as T,sa as S,ta as y,tb as Je,ua as m,va as s,w as se,wa as _,yb as ce,zb as Qe}from"./chunk-EUOB27Q6.js";var Bt=t=>({enabled:t});function Pt(t,i){if(t&1&&(m(0,"div",14)(1,"h1"),d(2),s()()),t&2){let e=r();o(2),P(e.BreadcrumbEnum.AGREEMENTS)}}function Vt(t,i){if(t&1&&(m(0,"th",15),d(1),_(2,"p-sortIcon",17),s()),t&2){let e=i.$implicit;c("pSortableColumn",e.field),o(),f(" ",e.header," "),o(),c("field",e.field)}}function kt(t,i){if(t&1&&(m(0,"tr"),S(1,Vt,3,3,"th",15,T),m(3,"th",16),d(4),s()()),t&2){let e=i.$implicit,n=r();o(),y(e),o(3),f(" ",n.TableEnum.ACTIONS," ")}}function Mt(t,i){if(t&1&&d(0),t&2){let e=r(2).$implicit,n=r().$implicit;f(" ",n[e.field].unit.name," ")}}function Rt(t,i){if(t&1&&d(0),t&2){let e=r(2).$implicit,n=r().$implicit;f(" ",n[e.field].state.name," ")}}function Nt(t,i){if(t&1&&p(0,Mt,1,1)(1,Rt,1,1),t&2){let e,n=r().$implicit;g(0,(e=n.field)==="administrator"?0:e==="agreementState"?1:-1)}}function $t(t,i){if(t&1&&(d(0),I(1,"customFormatDate")),t&2){let e=r(4).$implicit;f(" ",le(1,1,e.subscribedAt)," ")}}function Ot(t,i){if(t&1&&p(0,$t,2,3),t&2){let e=r(3).$implicit;g(0,e.subscribedAt?0:-1)}}function Ht(t,i){if(t&1&&(d(0),I(1,"customFormatDate")),t&2){let e=r(4).$implicit;f(" ",le(1,1,e.endedAt)," ")}}function Gt(t,i){t&1&&d(0," Indefinido ")}function Ut(t,i){if(t&1&&p(0,Ht,2,3)(1,Gt,1,0),t&2){let e=r(3).$implicit;g(0,e.endedAt?0:1)}}function Wt(t,i){if(t&1&&(d(0),I(1,"yesNo")),t&2){let e=r(3).$implicit;f(" ",le(1,1,e.isFinancing)," ")}}function qt(t,i){t&1&&_(0,"p-tag",20)}function Kt(t,i){t&1&&_(0,"p-tag",21)}function zt(t,i){if(t&1&&p(0,qt,1,0,"p-tag",20)(1,Kt,1,0),t&2){let e=r(3).$implicit;g(0,e.enabled?0:1)}}function Yt(t,i){if(t&1&&d(0),t&2){let e=r(2).$implicit,n=r().$implicit;f(" ",n[e.field]," ")}}function jt(t,i){if(t&1&&p(0,Ot,1,1)(1,Ut,2,1)(2,Wt,2,3)(3,zt,2,1)(4,Yt,1,1),t&2){let e,n=r().$implicit;g(0,(e=n.field)==="subscribedAt"?0:e==="endedAt"?1:e==="isFinancing"?2:e==="enabled"?3:4)}}function Jt(t,i){if(t&1&&(m(0,"td"),p(1,Nt,2,1)(2,jt,5,1),s()),t&2){let e=i.$implicit,n=r().$implicit;o(),g(1,n[e.field]!=null&&n[e.field].id?1:-1),o(),g(2,n[e.field]!=null&&n[e.field].id?-1:2)}}function Qt(t,i){if(t&1){let e=A();m(0,"tr",18),S(1,Jt,3,2,"td",null,T),m(3,"td",16)(4,"p-button",19),h("click",function(){let a=C(e).$implicit,l=r();return b(l.selectItem(a))}),s()()()}if(t&2){let e=i.$implicit,n=i.columns,a=i.rowIndex,l=r();c("pSelectableRow",e)("pSelectableRowIndex",a)("ngClass",je(4,Bt,!e.enabled)),o(),y(n),o(3),c("icon",l.PrimeIcons.ELLIPSIS_V)}}function Xt(t,i){if(t&1&&(m(0,"tr")(1,"td"),d(2),s()()),t&2){let e=i.$implicit,n=r();o(),O("colspan",e.length),o(),f(" ",n.messageService.paginatorNoRecordsFound," ")}}function Zt(t,i){}function ei(t,i){if(t&1&&_(0,"app-view",13),t&2){let e=r();c("id",e.selectedItem.id)}}var Tt=(()=>{let i=class i{constructor(){this.authService=u(j),this.coreService=u(U),this.agreementsHttpService=u(it),this.agreementsService=u(Ze),this.router=u(he),this.breadcrumbService=u(de),this.PrimeIcons=N,this.IconButtonActionEnum=F,this.SeverityButtonActionEnum=K,this.LabelButtonActionEnum=L,this.BreadcrumbEnum=B,this.TableEnum=z,this.messageService=u(W),this.messageDialogService=u(q),this.buttonActions=[],this.isButtonActions=!1,this.columns=[],this.search=new Q(""),this.items=[],this.isVisibleAgreementView=!1,this.breadcrumbService.setItems([{label:B.AGREEMENTS}]),this.buildButtonActions(),this.buildColumns(),this.search.valueChanges.pipe(se(500)).subscribe(n=>{this.findAgreements()})}ngOnInit(){this.findAgreements()}findAgreements(){this.authService.role.code===Ge.NATIONAL_SUPERVISOR&&this.agreementsHttpService.findNationalAgreementsByOrigin().subscribe(n=>{this.items=n}),this.authService.role.code===Ge.INTERNATIONAL_SUPERVISOR&&this.agreementsHttpService.findInternationalAgreementsByOrigin().subscribe(n=>{this.items=n})}buildColumns(){this.columns=[{field:"number",header:Y.number},{field:"internalNumber",header:Y.internalNumber},{field:"name",header:Y.name},{field:"administrator",header:tt.header},{field:"agreementState",header:et.state},{field:"subscribedAt",header:Y.subscribedAt},{field:"endedAt",header:Y.endedAt},{field:"isFinancing",header:Y.isFinancing},{field:"enabled",header:Y.enabled}]}buildButtonActions(){this.buttonActions=[{id:E.COMPLETE,label:L.COMPLETE,icon:F.COMPLETE,command:()=>{this.selectedItem?.id&&this.redirectCompleteForm(this.selectedItem)}},{id:E.AGREEMENT,label:L.AGREEMENT,icon:F.AGREEMENT,command:()=>{this.selectedItem?.id&&this.redirectEditForm(this.selectedItem.id)}},{id:E.AGREEMENT_LOG,label:L.AGREEMENT_LOG,icon:F.AGREEMENT_LOG,command:()=>{this.selectedItem?.id&&this.redirectAgreementLogForm(this.selectedItem.id)}},{id:E.AGREEMENT_TRACKING_PERIOD,label:L.AGREEMENT_TRACKING_PERIOD,icon:F.AGREEMENT_TRACKING_PERIOD,command:()=>{this.selectedItem?.id&&this.redirectTrackingLogList(this.selectedItem.id)}}]}validateButtonActions(n){this.buildButtonActions(),n.enabled&&this.buttonActions.splice(this.buttonActions.findIndex(a=>a.id===E.COMPLETE),1),n.enabled||(this.buttonActions.splice(this.buttonActions.findIndex(a=>a.id===E.VIEW),1),this.buttonActions.splice(this.buttonActions.findIndex(a=>a.id===E.EDIT),1),this.buttonActions.splice(this.buttonActions.findIndex(a=>a.id===E.AGREEMENT_LOG),1))}redirectCreateForm(){this.agreementsService.clearAgreement(),this.router.navigate(["/core/agreements","register"])}redirectCompleteForm(n){this.router.navigate(["/core/agreements","register"])}redirectEditForm(n){this.router.navigate(["/core/agreements/update",n])}redirectViewAgreement(){this.isVisibleAgreementView=!0}redirectAgreementLogForm(n){this.router.navigate(["/core/agreements/log",n])}redirectTrackingLogList(n){this.router.navigate([`/core/${this.authService.role.code}/period-list`,n])}remove(n){}paginate(n){}selectItem(n){this.agreementsHttpService.findOne(n.id).subscribe(a=>{this.isButtonActions=!0,this.selectedItem=n,this.validateButtonActions(n),this.agreementsService.agreement=a})}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=$({type:i,selectors:[["app-agreement-list"]],decls:15,vars:18,consts:[["dt",""],[1,"p-toolbar-group-left"],[3,"click","icon","label","loading","severity"],[1,"ml-2",3,"click","icon","label","loading","severity"],[1,"p-toolbar-group-right"],["dataKey","id","styleClass","p-datatable-striped","paginatorPosition","both",3,"value","columns","paginator","rows","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[3,"isHide","buttonActions","enabled"],["header","Convenio",3,"visibleChange","visible","modal"],[3,"id"],[1,"flex"],[3,"pSortableColumn"],[1,"text-center"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex","ngClass"],[3,"click","icon"],["severity","info","value","Registrado"],["severity","danger","value","En Proceso"]],template:function(a,l){if(a&1){let x=A();m(0,"p-toolbar")(1,"div",1)(2,"p-button",2),h("click",function(){return C(x),b(l.redirectCreateForm())}),s(),m(3,"p-button",3),h("click",function(){return C(x),b(l.findAgreements())}),s()(),_(4,"div",4),s(),m(5,"p-table",5,0),p(7,Pt,3,1,"ng-template",6)(8,kt,5,1,"ng-template",7)(9,Qt,5,6,"ng-template",8)(10,Xt,3,2,"ng-template",9)(11,Zt,0,0,"ng-template",10),s(),m(12,"app-button-action",11),h("isHide",function(v){return C(x),b(l.isButtonActions=!v)}),s(),m(13,"p-dialog",12),R("visibleChange",function(v){return C(x),M(l.isVisibleAgreementView,v)||(l.isVisibleAgreementView=v),b(v)}),p(14,ei,1,1,"app-view",13),s()}a&2&&(o(2),c("icon",l.IconButtonActionEnum.CREATE)("label",l.LabelButtonActionEnum.CREATE_AGREEMENT)("loading",l.coreService.isLoading)("severity",l.SeverityButtonActionEnum.CREATE),o(),c("icon",l.IconButtonActionEnum.SYNC)("label",l.LabelButtonActionEnum.SYNC)("loading",l.coreService.isLoading)("severity",l.SeverityButtonActionEnum.SYNC),o(2),c("value",l.items)("columns",l.columns)("paginator",!0)("rows",10)("loading",l.coreService.isLoading),o(7),c("buttonActions",l.buttonActions)("enabled",l.isButtonActions),o(),k("visible",l.isVisibleAgreementView),c("modal",!0),o(),g(14,l.selectedItem&&l.isVisibleAgreementView?14:-1))},dependencies:[Je,ue,G,ie,J,X,Z,te,ee,ut,_e,ht,nt,Te],styles:[".enabled[_ngcontent-%COMP%]{background-color:var(--red-200)}"]});let t=i;return t})();function ti(t,i){if(t&1&&(m(0,"div",10)(1,"h2"),d(2),I(3,"customFormatDate"),I(4,"customFormatDate"),s()()),t&2){let e=r();o(2),Ye(" ",e.period.name,": ",le(3,3,e.period.startedAt)," - ",le(4,5,e.period.endedAt)," ")}}function ii(t,i){if(t&1&&(m(0,"th",11),d(1),_(2,"p-sortIcon",12),s()),t&2){let e=i.$implicit;c("pSortableColumn",e.field),o(),f(" ",e.header," "),o(),c("field",e.field)}}function ni(t,i){if(t&1&&(m(0,"tr"),S(1,ii,3,3,"th",11,T),s()),t&2){let e=i.$implicit;o(),y(e)}}function oi(t,i){if(t&1&&(_(0,"br"),m(1,"b"),d(2,"Comentario: "),s(),d(3)),t&2){let e=r(4).$implicit;o(3),f("",e.observation," ")}}function ri(t,i){if(t&1&&(d(0),p(1,oi,4,1)),t&2){let e=r(3).$implicit;oe(" ",e.user.name," ",e.user.lastname," "),o(),g(1,e.observation?1:-1)}}function li(t,i){if(t&1&&d(0),t&2){let e=r(3).$implicit;f(" ",e.state.name," ")}}function ai(t,i){if(t&1&&p(0,ri,2,3)(1,li,1,1),t&2){let e,n=r().$implicit;g(0,(e=n.field)==="user"?0:e==="state"?1:-1)}}function si(t,i){if(t&1&&(d(0),I(1,"date")),t&2){let e=r(4).$implicit;f(" ",H(1,1,e.registeredAt,"dd/MM/yy - HH:mm")," ")}}function mi(t,i){if(t&1&&p(0,si,2,4),t&2){let e=r(3).$implicit;g(0,e.registeredAt?0:-1)}}function ci(t,i){if(t&1&&d(0),t&2){let e=r(2).$implicit,n=r().$implicit;f(" ",n[e.field]," ")}}function di(t,i){if(t&1&&p(0,mi,1,1)(1,ci,1,1),t&2){let e,n=r().$implicit;g(0,(e=n.field)==="registeredAt"?0:1)}}function pi(t,i){if(t&1&&(m(0,"td"),p(1,ai,2,1)(2,di,2,1),s()),t&2){let e=i.$implicit,n=r().$implicit;o(),g(1,n[e.field]!=null&&n[e.field].id?1:-1),o(),g(2,n[e.field]!=null&&n[e.field].id?-1:2)}}function _i(t,i){if(t&1&&(m(0,"tr",13),S(1,pi,3,2,"td",null,T),s()),t&2){let e=i.$implicit,n=i.columns,a=i.rowIndex;c("pSelectableRow",e)("pSelectableRowIndex",a),o(),y(n)}}function ui(t,i){if(t&1&&(m(0,"tr")(1,"td"),d(2),s()()),t&2){let e=i.$implicit,n=r();o(),O("colspan",e.length),o(),f(" ",n.messageService.paginatorNoRecordsFound," ")}}function gi(t,i){}var Oe=(()=>{let i=class i{constructor(){this.authService=u(j),this.coreService=u(U),this.router=u(he),this.trackingLogsHttpService=u(pe),this.PrimeIcons=N,this.IconButtonActionEnum=F,this.SeverityButtonActionEnum=K,this.LabelButtonActionEnum=L,this.BreadcrumbEnum=B,this.TableEnum=z,this.messageService=u(W),this.messageDialogService=u(q),this.buttonActions=[],this.columns=[],this.search=new Q(""),this.items=[],this.isVisibleAgreementView=!1,this.buildColumns()}ngOnInit(){this.items=this.period.trackingLogs}buildColumns(){this.columns=[{field:"state",header:Le.state},{field:"registeredAt",header:Le.registeredAt},{field:"user",header:Le.user}]}redirectAgreementLogForm(n){this.router.navigate(["/core/agreements/log",n])}downloadLog(){this.trackingLogsHttpService.downloadLog(this.period.id)}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=$({type:i,selectors:[["app-tracking-log-list"]],inputs:{period:"period"},decls:11,vars:9,consts:[["dt",""],[1,"p-toolbar-group-left"],[1,"ml-2",3,"click","icon","label","loading","severity"],[1,"p-toolbar-group-right"],["dataKey","id","styleClass","p-datatable-striped","paginatorPosition","both",3,"value","columns","paginator","rows","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[1,"flex"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"]],template:function(a,l){if(a&1){let x=A();m(0,"p-toolbar")(1,"div",1)(2,"p-button",2),h("click",function(){return C(x),b(l.downloadLog())}),s()(),_(3,"div",3),s(),m(4,"p-table",4,0),p(6,ti,5,7,"ng-template",5)(7,ni,3,0,"ng-template",6)(8,_i,3,2,"ng-template",7)(9,ui,3,2,"ng-template",8)(10,gi,0,0,"ng-template",9),s()}a&2&&(o(2),c("icon",l.IconButtonActionEnum.DOWNLOAD)("label",l.LabelButtonActionEnum.DOWNLOAD)("loading",l.coreService.isLoading)("severity",l.SeverityButtonActionEnum.SYNC),o(2),c("value",l.items)("columns",l.columns)("paginator",!0)("rows",10)("loading",l.coreService.isLoading))},dependencies:[G,ie,J,X,Z,te,ee,ce,Te],styles:[".enabled[_ngcontent-%COMP%]{background-color:var(--red-200)}"]});let t=i;return t})();var Li=()=>({width:"50rem"});function Fi(t,i){if(t&1&&(m(0,"div",16)(1,"h2"),d(2),s()()),t&2){let e=r();o(2),P(e.BreadcrumbEnum.ADDITIONAL_DOCUMENTS)}}function Ti(t,i){if(t&1&&(m(0,"th",17),d(1),_(2,"p-sortIcon",18),s()),t&2){let e=i.$implicit;c("pSortableColumn",e.field),o(),f(" ",e.header," "),o(),c("field",e.field)}}function Si(t,i){if(t&1&&(m(0,"tr"),S(1,Ti,3,3,"th",17,T),s()),t&2){let e=i.$implicit;o(),y(e)}}function yi(t,i){if(t&1&&d(0),t&2){let e=r(4).$implicit;oe(" ",e.user.name," ",e.user.lastname," ")}}function Ii(t,i){if(t&1&&p(0,yi,1,2),t&2){let e=r(3).$implicit;g(0,e!=null&&e.user?0:-1)}}function wi(t,i){if(t&1&&p(0,Ii,1,1),t&2){let e,n=r().$implicit;g(0,(e=n.field)==="user"?0:-1)}}function Di(t,i){if(t&1){let e=A();m(0,"span"),d(1),s(),m(2,"p-button",20),h("click",function(){let a=C(e).$implicit,l=r(5);return b(l.downloadFile(a))}),s(),_(3,"p-divider")}if(t&2){let e=i.$implicit,n=r(5);o(),f("",e.type.name,": "),o(),c("icon",n.IconButtonActionEnum.DOWNLOAD)("label",e.name)("text",!0)("severity",n.SeverityButtonActionEnum.DOWNLOAD)}}function Bi(t,i){if(t&1&&S(0,Di,4,5,null,null,T),t&2){let e=r(3).$implicit;y(e==null?null:e.additionalDocuments)}}function Pi(t,i){if(t&1&&d(0),t&2){let e=r(3).$implicit;oe(" ",e.name," ",e.sequence," ")}}function Vi(t,i){if(t&1&&(d(0),I(1,"date")),t&2){let e=r(3).$implicit;f(" ",H(1,1,e.uploadedAt,"dd/MM/y - HH:mm")," ")}}function ki(t,i){if(t&1&&d(0),t&2){let e=r(2).$implicit,n=r().$implicit;f(" ",n[e.field]," ")}}function Mi(t,i){if(t&1&&p(0,Bi,2,0)(1,Pi,1,2)(2,Vi,2,4)(3,ki,1,1),t&2){let e,n=r().$implicit;g(0,(e=n.field)==="additionalDocuments"?0:e==="name"?1:e==="uploadedAt"?2:3)}}function Ri(t,i){if(t&1&&(m(0,"td"),p(1,wi,1,1)(2,Mi,4,1),s()),t&2){let e=i.$implicit,n=r().$implicit;o(),g(1,n[e.field]!=null&&n[e.field].id?1:-1),o(),g(2,n[e.field]!=null&&n[e.field].id?-1:2)}}function Ni(t,i){if(t&1&&(m(0,"tr",19),S(1,Ri,3,2,"td",null,T),s()),t&2){let e=i.$implicit,n=i.columns,a=i.rowIndex;c("pSelectableRow",e)("pSelectableRowIndex",a),o(),y(n)}}function $i(t,i){if(t&1&&(m(0,"tr")(1,"td"),d(2),s()()),t&2){let e=i.$implicit,n=r();o(),O("colspan",e.length),o(),f(" ",n.messageService.paginatorNoRecordsFound," ")}}function Oi(t,i){}function Hi(t,i){if(t&1&&(_(0,"i"),m(1,"div",33),d(2),s()),t&2){let e=r(3);V(e.PrimeIcons.FILE_PDF),o(2),P(e.reportFileField.value==null?null:e.reportFileField.value.name)}}function Gi(t,i){t&1&&(m(0,"div",26)(1,"p-messages",31),p(2,Hi,3,3,"ng-template",32),s()())}function Ui(t,i){if(t&1&&(_(0,"i"),m(1,"div",33),d(2),s()),t&2){let e=r(3);V(e.PrimeIcons.FILE_PDF),o(2),P(e.evidenceFileField.value==null?null:e.evidenceFileField.value.name)}}function Wi(t,i){t&1&&(m(0,"div",26)(1,"p-messages",31),p(2,Ui,3,3,"ng-template",32),s()())}function qi(t,i){if(t&1){let e=A();m(0,"form",21)(1,"div",22),_(2,"label",23),m(3,"p-fileUpload",24,1),h("uploadHandler",function(a){C(e);let l=me(4),x=r();return b(x.uploadReportFile(a,l))}),s(),_(5,"small",25),s(),p(6,Gi,3,0,"div",26),m(7,"div",22),_(8,"label",27),m(9,"p-fileUpload",28,1),h("uploadHandler",function(a){C(e);let l=me(4),x=r();return b(x.uploadEvidenceFile(a,l))}),s(),_(11,"small",25),s(),p(12,Wi,3,0,"div",26),m(13,"div",26),_(14,"label",29)(15,"textarea",30)(16,"small",25),s()()}if(t&2){let e=r();c("formGroup",e.form),o(2),c("label",e.AdditionalDocumentEnum.reportFile)("required",e.reportFileField),o(),c("chooseIcon",e.PrimeIcons.UPLOAD)("auto",!0)("customUpload",!0),o(2),c("errors",e.reportFileField.errors)("touched",e.reportFileField.touched)("dirty",e.reportFileField.dirty),o(),g(6,e.reportFileField.value?6:-1),o(2),c("label",e.AdditionalDocumentEnum.evidenceFile)("required",e.evidenceFileField),o(),c("chooseIcon",e.PrimeIcons.UPLOAD)("auto",!0)("customUpload",!0),o(2),c("errors",e.evidenceFileField.errors)("touched",e.evidenceFileField.touched)("dirty",e.evidenceFileField.dirty),o(),g(12,e.evidenceFileField.value?12:-1),o(2),c("label",e.AdditionalDocumentEnum.detail)("required",e.detailField),o(2),c("errors",e.detailField.errors)("touched",e.detailField.touched)("dirty",e.detailField.dirty)}}function Ki(t,i){if(t&1){let e=A();m(0,"p-button",34),h("click",function(){C(e);let a=r();return b(a.isVisibleFilesModal=!1)}),s(),m(1,"p-button",35),h("click",function(){C(e);let a=r();return b(a.onUpload())}),s()}if(t&2){let e=r();c("label",e.LabelButtonActionEnum.CANCEL)("icon",e.IconButtonActionEnum.CANCEL)("text",!0)("severity",e.SeverityButtonActionEnum.CANCEL),o(),c("icon",e.IconButtonActionEnum.REPORT)("label",e.LabelButtonActionEnum.REPORT)("severity",e.SeverityButtonActionEnum.REPORT)}}var St=(()=>{let i=class i{constructor(){this.authService=u(j),this.coreService=u(U),this.formBuilder=u(Pe),this.cataloguesHttpService=u(xe),this.trackingLogsHttpService=u(pe),this.filesHttpService=u(Fe),this.confirmationService=u(Xe),this.breadcrumbService=u(de),this.PrimeIcons=N,this.IconButtonActionEnum=F,this.SeverityButtonActionEnum=K,this.LabelButtonActionEnum=L,this.BreadcrumbEnum=B,this.TableEnum=z,this.messageService=u(W),this.messageDialogService=u(q),this.buttonActions=[],this.isButtonActions=!1,this.columns=[],this.search=new Q(""),this.items=[],this.formErrors=[],this.types=[],this.isVisibleFilesModal=!1,this.isVisibleTrackingLogModal=!1,this.AddendumEnum=Ee,this.CatalogueTrackingLogsStateEnum=ge,this.AdditionalDocumentEnum=ae,this.buildForm(),this.buildButtonActions(),this.buildColumns(),this.search.valueChanges.pipe(se(500)).subscribe(n=>{this.findAdditionalDocumentsByAgreement()})}ngOnInit(){this.findAdditionalDocumentsByAgreement(),this.loadTypes()}buildForm(){this.form=this.formBuilder.group({reportFile:[null],evidenceFile:[null],detail:[null,fe.required]})}findAdditionalDocumentsByAgreement(){this.trackingLogsHttpService.findAdditionalDocumentsByAgreement(this.agreementId).subscribe(n=>{this.items=n})}loadTypes(){this.types=this.cataloguesHttpService.findByType(Ae.PERIODS_TRACKING_LOG)}buildColumns(){this.columns=[{field:"name",header:ae.name},{field:"detail",header:ae.detail},{field:"additionalDocuments",header:ae.additionalDocuments},{field:"uploadedAt",header:ae.uploadedAt},{field:"user",header:ae.user}]}buildButtonActions(){this.buttonActions=[{id:E.TRACKING_LOG,label:L.TRACKING_LOG,icon:F.TRACKING_LOG,command:()=>{this.isVisibleTrackingLogModal=!0}}]}validateButtonActions(n){this.buildButtonActions()}remove(n){this.confirmationService.confirm({key:"confirmDialog",message:"No se podr\xE1 recuperar la informaci\xF3n",header:"\xBFEst\xE1 seguro de eliminar?",icon:N.TRASH,acceptLabel:"Si",rejectLabel:"No",rejectButtonStyleClass:"p-button-text",accept:()=>{this.trackingLogsHttpService.deleteAdditionalDocument(n).subscribe(a=>{this.findAdditionalDocumentsByAgreement()})}})}selectItem(n){this.isButtonActions=!0,this.selectedItem=n,this.validateButtonActions(n)}showFilesModal(){this.isVisibleFilesModal=!0}downloadFile(n){this.filesHttpService.downloadFile(n)}onUpload(){if(this.validateFilesForm()){let n=new FormData;n.append("report",this.reportFileField.value),n.append("evidence",this.evidenceFileField.value),n.append("detail",this.detailField.value),this.trackingLogsHttpService.createAdditionalDocument(this.agreementId,n).subscribe(a=>{this.findAdditionalDocumentsByAgreement(),this.isVisibleFilesModal=!1})}else this.messageDialogService.fieldErrors(this.formErrors)}validateFilesForm(){return this.formErrors=[],this.reportFileField.invalid&&this.formErrors.push(D.reportFile),this.evidenceFileField.invalid&&this.formErrors.push(D.evidenceFile),this.formErrors.length===0}uploadReportFile(n,a){this.reportFileField.patchValue(n.files[0]),a.clear()}uploadEvidenceFile(n,a){this.evidenceFileField.patchValue(n.files[0]),a.clear()}get reportFileField(){return this.form.controls.reportFile}get evidenceFileField(){return this.form.controls.evidenceFile}get detailField(){return this.form.controls.detail}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=$({type:i,selectors:[["app-additional-document-list"]],inputs:{agreementId:"agreementId"},decls:16,vars:16,consts:[["dt",""],["uploadFiles",""],[1,"p-toolbar-group-left"],[1,"ml-2",3,"click","icon","label","loading","severity"],[1,"p-toolbar-group-right"],["dataKey","id","styleClass","p-datatable-striped","paginatorPosition","both",3,"value","columns","paginator","rows","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[3,"isHide","buttonActions","enabled"],["header","Subir archivos",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["key","confirmDialog"],[1,"flex"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[1,"ml-2",3,"click","icon","label","text","severity"],[1,"p-fluid","grid",3,"formGroup"],[1,"field","col-12","xl:col-6","lg:col-6","md:col-6","sm:col-12"],["appLabel","","for","report",3,"label","required"],["id","report","mode","basic","chooseLabel","Cargar","name","files[]","accept",".pdf","maxFileSize","5242880",3,"uploadHandler","chooseIcon","auto","customUpload"],["appErrorMessage","",3,"errors","touched","dirty"],[1,"field","col-12","xl:col-12","lg:col-12","md:col-12","sm:col-12"],["appLabel","","for","evidence",3,"label","required"],["id","evidence","mode","basic","chooseLabel","Cargar","name","files[]","accept",".pdf,.zip,.rar","maxFileSize","5242880",3,"uploadHandler","chooseIcon","auto","customUpload"],["appLabel","","for","detail",3,"label","required"],["pInputTextarea","","id","detail","formControlName","detail"],["severity","info"],["pTemplate",""],[1,"ml-2"],[3,"click","label","icon","text","severity"],[3,"click","icon","label","severity"]],template:function(a,l){if(a&1){let x=A();m(0,"p-toolbar")(1,"div",2)(2,"p-button",3),h("click",function(){return C(x),b(l.findAdditionalDocumentsByAgreement())}),s()(),_(3,"div",4),s(),m(4,"p-table",5,0),p(6,Fi,3,1,"ng-template",6)(7,Si,3,0,"ng-template",7)(8,Ni,3,2,"ng-template",8)(9,$i,3,2,"ng-template",9)(10,Oi,0,0,"ng-template",10),s(),m(11,"app-button-action",11),h("isHide",function(v){return C(x),b(l.isButtonActions=!v)}),s(),m(12,"p-dialog",12),R("visibleChange",function(v){return C(x),M(l.isVisibleFilesModal,v)||(l.isVisibleFilesModal=v),b(v)}),p(13,qi,17,24,"ng-template",13)(14,Ki,2,7,"ng-template",14),s(),_(15,"p-confirmDialog",15)}a&2&&(o(2),c("icon",l.IconButtonActionEnum.SYNC)("label",l.LabelButtonActionEnum.SYNC)("loading",l.coreService.isLoading)("severity",l.SeverityButtonActionEnum.SYNC),o(2),c("value",l.items)("columns",l.columns)("paginator",!0)("rows",10)("loading",l.coreService.isLoading),o(7),c("buttonActions",l.buttonActions)("enabled",l.isButtonActions),o(),ne(re(15,Li)),k("visible",l.isVisibleFilesModal),c("modal",!0))},dependencies:[Ve,ke,ue,G,ie,J,we,Se,ye,Ie,X,Z,te,ee,De,Be,_e,Ne,Re,Me,$e,Ct,ce],styles:[".enabled[_ngcontent-%COMP%]{background-color:var(--red-200)}"]});let t=i;return t})();var Yi=()=>({width:"50rem"}),ji=()=>({width:"100%"}),yt=()=>({width:"35rem"});function Ji(t,i){if(t&1&&(m(0,"div",24)(1,"h1"),d(2),s()()),t&2){let e=r();o(2),P(e.BreadcrumbEnum.PERIODS)}}function Qi(t,i){if(t&1&&(m(0,"th",25),d(1),_(2,"p-sortIcon",27),s()),t&2){let e=i.$implicit;c("pSortableColumn",e.field),o(),f(" ",e.header," "),o(),c("field",e.field)}}function Xi(t,i){if(t&1&&(m(0,"tr"),S(1,Qi,3,3,"th",25,T),m(3,"th",26),d(4),s()()),t&2){let e=i.$implicit,n=r();o(),y(e),o(3),f(" ",n.TableEnum.ACTIONS," ")}}function Zi(t,i){if(t&1&&d(0),t&2){let e=r(2).$implicit,n=r().$implicit;f(" ",n[e.field].unit.name," ")}}function en(t,i){if(t&1&&p(0,Zi,1,1),t&2){let e,n=r().$implicit;g(0,(e=n.field)==="administrator"?0:-1)}}function tn(t,i){if(t&1){let e=A();m(0,"span"),d(1),s(),m(2,"p-button",30),h("click",function(){let a=C(e).$implicit,l=r(5);return b(l.downloadFile(a))}),s(),_(3,"p-divider")}if(t&2){let e=i.$implicit,n=r(5);o(),f("",e.type.name,": "),o(),c("icon",n.IconButtonActionEnum.DOWNLOAD)("label",e.name)("text",!0)("severity",n.SeverityButtonActionEnum.DOWNLOAD)}}function nn(t,i){if(t&1&&S(0,tn,4,5,null,null,T),t&2){let e=r(3).$implicit;y(e==null?null:e.trackingLogDocuments)}}function on(t,i){if(t&1&&_(0,"i",32),t&2){let e=r(6);V(e.PrimeIcons.CIRCLE_FILL)}}function rn(t,i){if(t&1&&_(0,"i",33),t&2){let e=r(6);V(e.PrimeIcons.CIRCLE_FILL)}}function ln(t,i){if(t&1&&p(0,on,1,2,"i",31)(1,rn,1,2),t&2){let e=r(4).$implicit;g(0,e.trackingLog.state.code==="REPORTED"||e.trackingLog.state.code==="ACCEPTED"?0:1)}}function an(t,i){if(t&1&&_(0,"i",33),t&2){let e=r(5);V(e.PrimeIcons.CIRCLE_FILL)}}function sn(t,i){if(t&1&&p(0,ln,2,1)(1,an,1,2),t&2){let e=r(3).$implicit;g(0,e.trackingLog?0:1)}}function mn(t,i){if(t&1&&(d(0),_(1,"br"),d(2),I(3,"date"),_(4,"br"),d(5),I(6,"date")),t&2){let e=r(3).$implicit;f(" ",e.name," "),o(2),f(" ",H(3,3,e.startedAt,"d MMMM y")," - "),o(3),f(" ",H(6,6,e.endedAt,"d MMMM y")," ")}}function cn(t,i){if(t&1&&(d(0),I(1,"date")),t&2){let e=r(3).$implicit;f(" ",H(1,1,e.uploadedAt,"dd/MM/y - HH:mm")," ")}}function dn(t,i){if(t&1&&d(0),t&2){let e=r(3).$implicit;f(" ",e.trackingLog==null||e.trackingLog.state==null?null:e.trackingLog.state.name," ")}}function pn(t,i){if(t&1&&d(0),t&2){let e=r(4).$implicit;oe(" ",e.trackingLog.user.name," ",e.trackingLog.user.lastname," ")}}function _n(t,i){if(t&1&&p(0,pn,1,2),t&2){let e=r(3).$implicit;g(0,e.trackingLog!=null&&e.trackingLog.user?0:-1)}}function un(t,i){if(t&1&&d(0),t&2){let e=r(2).$implicit,n=r().$implicit;f(" ",n[e.field]," ")}}function gn(t,i){if(t&1&&p(0,nn,2,0)(1,sn,2,1)(2,mn,7,9)(3,cn,2,4)(4,dn,1,1)(5,_n,1,1)(6,un,1,1),t&2){let e,n=r().$implicit;g(0,(e=n.field)==="files"?0:e==="trafficLight"?1:e==="name"?2:e==="uploadedAt"?3:e==="state"?4:e==="user"?5:6)}}function fn(t,i){if(t&1&&(m(0,"td"),p(1,en,1,1)(2,gn,7,1),s()),t&2){let e=i.$implicit,n=r().$implicit;o(),g(1,n[e.field]!=null&&n[e.field].id?1:-1),o(),g(2,n[e.field]!=null&&n[e.field].id?-1:2)}}function Cn(t,i){if(t&1){let e=A();m(0,"tr",28),S(1,fn,3,2,"td",null,T),m(3,"td",26)(4,"p-button",29),h("click",function(){let a=C(e).$implicit,l=r();return b(l.selectItem(a))}),s()()()}if(t&2){let e=i.$implicit,n=i.columns,a=i.rowIndex,l=r();c("pSelectableRow",e)("pSelectableRowIndex",a),o(),y(n),o(3),c("icon",l.PrimeIcons.ELLIPSIS_V)}}function bn(t,i){if(t&1&&(m(0,"tr")(1,"td"),d(2),s()()),t&2){let e=i.$implicit,n=r();o(),O("colspan",e.length),o(),f(" ",n.messageService.paginatorNoRecordsFound," ")}}function vn(t,i){}function hn(t,i){if(t&1&&(_(0,"i"),m(1,"div",42),d(2),s()),t&2){let e=r(3);V(e.PrimeIcons.FILE_PDF),o(2),P(e.reportFileField.value==null?null:e.reportFileField.value.name)}}function xn(t,i){t&1&&(m(0,"div",35)(1,"p-messages",40),p(2,hn,3,3,"ng-template",41),s()())}function An(t,i){if(t&1&&(_(0,"i"),m(1,"div",42),d(2),s()),t&2){let e=r(3);V(e.PrimeIcons.FILE_PDF),o(2),P(e.evidenceFileField.value==null?null:e.evidenceFileField.value.name)}}function En(t,i){t&1&&(m(0,"div",35)(1,"p-messages",40),p(2,An,3,3,"ng-template",41),s()())}function Ln(t,i){if(t&1){let e=A();m(0,"div",34)(1,"div",35),_(2,"label",36),m(3,"p-fileUpload",37,1),h("uploadHandler",function(a){C(e);let l=me(4),x=r();return b(x.uploadReportFile(a,l))}),s(),_(5,"small",23),s(),p(6,xn,3,0,"div",35),m(7,"div",35),_(8,"label",38),m(9,"p-fileUpload",39,1),h("uploadHandler",function(a){C(e);let l=me(4),x=r();return b(x.uploadEvidenceFile(a,l))}),s(),_(11,"small",23),s(),p(12,En,3,0,"div",35),s()}if(t&2){let e=r();o(2),c("label",e.AddendumEnum.file)("required",e.reportFileField),o(),c("chooseIcon",e.PrimeIcons.UPLOAD)("auto",!0)("customUpload",!0),o(2),c("errors",e.reportFileField.errors)("touched",e.reportFileField.touched)("dirty",e.reportFileField.dirty),o(),g(6,e.reportFileField.value?6:-1),o(2),c("label",e.AddendumEnum.file)("required",e.evidenceFileField),o(),c("chooseIcon",e.PrimeIcons.UPLOAD)("auto",!0)("customUpload",!0),o(2),c("errors",e.evidenceFileField.errors)("touched",e.evidenceFileField.touched)("dirty",e.evidenceFileField.dirty),o(),g(12,e.evidenceFileField.value?12:-1)}}function Fn(t,i){if(t&1){let e=A();m(0,"p-button",43),h("click",function(){C(e);let a=r();return b(a.isVisibleFilesModal=!1)}),s(),m(1,"p-button",44),h("click",function(){C(e);let a=r();return b(a.onUpload())}),s()}if(t&2){let e=r();c("label",e.LabelButtonActionEnum.CANCEL)("icon",e.IconButtonActionEnum.CANCEL)("text",!0)("severity",e.SeverityButtonActionEnum.CANCEL),o(),c("icon",e.IconButtonActionEnum.ADD)("label",e.LabelButtonActionEnum.ADD)("severity",e.SeverityButtonActionEnum.ADD)}}function Tn(t,i){if(t&1&&_(0,"app-tracking-log-list",17),t&2){let e=r();c("period",e.selectedItem)}}function Sn(t,i){t&1&&(m(0,"h3"),d(1,"\xBFEst\xE1 seguro de rechazar, no podr\xE1 modificar su elecci\xF3n?"),s())}function yn(t,i){if(t&1){let e=A();m(0,"p-button",43),h("click",function(){C(e);let a=r();return b(a.isVisibleRefusedModal=!1)}),s(),m(1,"p-button",45),h("click",function(){C(e);let a=r();return b(a.refuseTrackingLogDocuments())}),s()}if(t&2){let e=r();c("label",e.LabelButtonActionEnum.CANCEL)("icon",e.IconButtonActionEnum.CANCEL)("text",!0)("severity",e.SeverityButtonActionEnum.CANCEL),o(),c("label",e.LabelButtonActionEnum.REFUSED)("icon",e.IconButtonActionEnum.REFUSED)("severity",e.SeverityButtonActionEnum.REFUSED)}}function In(t,i){t&1&&(m(0,"h3"),d(1,"\xBFEst\xE1 seguro de aceptar, no podr\xE1 modificar su elecci\xF3n?"),s())}function wn(t,i){if(t&1){let e=A();m(0,"p-button",43),h("click",function(){C(e);let a=r();return b(a.isVisibleRefusedModal=!1)}),s(),m(1,"p-button",45),h("click",function(){C(e);let a=r();return b(a.acceptTrackingLogDocuments())}),s()}if(t&2){let e=r();c("label",e.LabelButtonActionEnum.CANCEL)("icon",e.IconButtonActionEnum.CANCEL)("text",!0)("severity",e.SeverityButtonActionEnum.CANCEL),o(),c("label",e.LabelButtonActionEnum.ACCEPTED)("icon",e.IconButtonActionEnum.ACCEPTED)("severity",e.SeverityButtonActionEnum.REFUSED)}}var It=(()=>{let i=class i{constructor(){this.authService=u(j),this.coreService=u(U),this.formBuilder=u(Pe),this.cataloguesHttpService=u(xe),this.trackingLogsHttpService=u(pe),this.filesHttpService=u(Fe),this.breadcrumbService=u(de),this.PrimeIcons=N,this.IconButtonActionEnum=F,this.SeverityButtonActionEnum=K,this.LabelButtonActionEnum=L,this.BreadcrumbEnum=B,this.TableEnum=z,this.messageService=u(W),this.messageDialogService=u(q),this.buttonActions=[],this.isButtonActions=!1,this.columns=[],this.search=new Q(""),this.items=[],this.formErrors=[],this.types=[],this.isVisibleFilesModal=!1,this.isVisibleTrackingLogModal=!1,this.isVisibleRefusedModal=!1,this.isVisibleAcceptedModal=!1,this.AddendumEnum=Ee,this.breadcrumbService.setItems([{label:B.AGREEMENTS,routerLink:[`/core/${this.authService.role.code}/agreement-list`]},{label:B.PERIODS}]),this.buildForm(),this.buildButtonActions(),this.buildColumns(),this.search.valueChanges.pipe(se(500)).subscribe(n=>{this.findPeriodsByAgreement()})}ngOnInit(){this.findPeriodsByAgreement(),this.loadTypes()}buildForm(){this.form=this.formBuilder.group({reportFile:[null,fe.required],evidenceFile:[null],observation:[null,fe.required]})}findPeriodsByAgreement(){this.trackingLogsHttpService.findPeriodsByAgreement(this.agreementId).subscribe(n=>{this.items=n})}loadTypes(){this.types=this.cataloguesHttpService.findByType(Ae.PERIODS_TRACKING_LOG)}buildColumns(){this.columns=[{field:"name",header:D.reportPeriod},{field:"documentName",header:D.name},{field:"files",header:D.documentName},{field:"trafficLight",header:D.trafficLight},{field:"uploadedAt",header:D.uploadedAt},{field:"user",header:D.user},{field:"state",header:D.state}]}buildButtonActions(){this.buttonActions=[{id:E.TRACKING_LOG,label:L.TRACKING_LOG,icon:F.TRACKING_LOG,command:()=>{this.isVisibleTrackingLogModal=!0}},{id:E.ACCEPTED,label:L.ACCEPTED,icon:F.ACCEPTED,command:()=>{this.isVisibleAcceptedModal=!0}},{id:E.REFUSED,label:L.REFUSED,icon:F.REFUSED,command:()=>{this.isVisibleRefusedModal=!0}}]}validateButtonActions(n){this.buildButtonActions(),(!n.trackingLog||n.trackingLog.state?.code===ge.ACCEPTED||n.trackingLog.state?.code===ge.REFUSED)&&(console.log("asd"),this.buttonActions.splice(this.buttonActions.findIndex(a=>a.id===E.ACCEPTED),1),this.buttonActions.splice(this.buttonActions.findIndex(a=>a.id===E.REFUSED),1))}selectItem(n){this.isButtonActions=!0,this.selectedItem=n,this.validateButtonActions(n)}downloadFile(n){this.filesHttpService.downloadFile(n)}onUpload(){if(this.validateFilesForm()){let n=new FormData;n.append("report",this.reportFileField.value),n.append("evidence",this.evidenceFileField.value),this.trackingLogsHttpService.createTrackingLog(this.selectedItem.id,n).subscribe(a=>{})}else this.messageDialogService.fieldErrors(this.formErrors)}validateFilesForm(){return this.formErrors=[],this.reportFileField.invalid&&this.formErrors.push(D.reportFile),this.evidenceFileField.invalid&&this.formErrors.push(D.evidenceFile),this.formErrors.length===0}uploadReportFile(n,a){this.reportFileField.patchValue(n.files[0]),a.clear()}uploadEvidenceFile(n,a){this.evidenceFileField.patchValue(n.files[0]),a.clear()}refuseTrackingLogDocuments(){this.trackingLogsHttpService.changeState(this.selectedItem.trackingLog.id,!1,this.observationFileField.value).subscribe(()=>{this.findPeriodsByAgreement(),this.isVisibleRefusedModal=!1,this.observation=""})}acceptTrackingLogDocuments(){this.trackingLogsHttpService.changeState(this.selectedItem.trackingLog.id,!0).subscribe(()=>{this.findPeriodsByAgreement(),this.isVisibleAcceptedModal=!1})}get reportFileField(){return this.form.controls.reportFile}get evidenceFileField(){return this.form.controls.evidenceFile}get observationFileField(){return this.form.controls.observation}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=$({type:i,selectors:[["app-agreement-list"]],inputs:{agreementId:"agreementId"},decls:29,vars:38,consts:[["dt",""],["uploadFiles",""],[1,"p-toolbar-group-left"],[1,"ml-2",3,"click","icon","label","loading","severity"],[1,"p-toolbar-group-right"],["dataKey","id","styleClass","p-datatable-striped","paginatorPosition","both",3,"value","columns","paginator","rows","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[3,"isHide","buttonActions","enabled"],[3,"agreementId"],["header","Agregar",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Bit\xE1cora",3,"visibleChange","visible","modal"],[3,"period"],["header","Header",3,"visibleChange","visible","modal"],[1,"grid","p-fluid",3,"formGroup"],[1,"field","col-12","xl:col-12","lg:col-12","md:col-12","sm:col-12"],["appLabel","","for","observation","label","Observaci\xF3n",3,"required"],["pInputTextarea","","id","observation","formControlName","observation"],["appErrorMessage","",3,"errors","touched","dirty"],[1,"flex"],[3,"pSortableColumn"],[1,"text-center"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"click","icon"],[1,"ml-2",3,"click","icon","label","text","severity"],[2,"color","var(--green-400)","font-size","1.5rem",3,"class"],[2,"color","var(--green-400)","font-size","1.5rem"],[2,"color","var(--red-400)","font-size","1.5rem"],[1,"p-fluid","grid"],[1,"field","col-12","xl:col-6","lg:col-6","md:col-6","sm:col-12"],["appLabel","","for","report",3,"label","required"],["id","report","mode","basic","chooseLabel","Cargar","name","files[]","accept",".pdf,.zip,.rar","maxFileSize","5242880",3,"uploadHandler","chooseIcon","auto","customUpload"],["appLabel","","for","evidence",3,"label","required"],["id","evidence","mode","basic","chooseLabel","Cargar","name","files[]","accept",".pdf,.zip,.rar","maxFileSize","5242880",3,"uploadHandler","chooseIcon","auto","customUpload"],["severity","info"],["pTemplate",""],[1,"ml-2"],[3,"click","label","icon","text","severity"],[3,"click","icon","label","severity"],[3,"click","label","icon","severity"]],template:function(a,l){if(a&1){let x=A();m(0,"p-toolbar")(1,"div",2)(2,"p-button",3),h("click",function(){return C(x),b(l.findPeriodsByAgreement())}),s()(),_(3,"div",4),s(),m(4,"p-table",5,0),p(6,Ji,3,1,"ng-template",6)(7,Xi,5,1,"ng-template",7)(8,Cn,5,3,"ng-template",8)(9,bn,3,2,"ng-template",9)(10,vn,0,0,"ng-template",10),s(),m(11,"app-button-action",11),h("isHide",function(v){return C(x),b(l.isButtonActions=!v)}),s(),_(12,"app-additional-document-list",12),m(13,"p-dialog",13),R("visibleChange",function(v){return C(x),M(l.isVisibleFilesModal,v)||(l.isVisibleFilesModal=v),b(v)}),p(14,Ln,13,18,"ng-template",14)(15,Fn,2,7,"ng-template",15),s(),m(16,"p-dialog",16),R("visibleChange",function(v){return C(x),M(l.isVisibleTrackingLogModal,v)||(l.isVisibleTrackingLogModal=v),b(v)}),p(17,Tn,1,1,"app-tracking-log-list",17),s(),m(18,"p-dialog",18),R("visibleChange",function(v){return C(x),M(l.isVisibleRefusedModal,v)||(l.isVisibleRefusedModal=v),b(v)}),p(19,Sn,2,0,"ng-template",7),m(20,"form",19)(21,"div",20),_(22,"label",21)(23,"textarea",22)(24,"small",23),s()(),p(25,yn,2,7,"ng-template",15),s(),m(26,"p-dialog",18),R("visibleChange",function(v){return C(x),M(l.isVisibleAcceptedModal,v)||(l.isVisibleAcceptedModal=v),b(v)}),p(27,In,2,0,"ng-template",7)(28,wn,2,7,"ng-template",15),s()}a&2&&(o(2),c("icon",l.IconButtonActionEnum.SYNC)("label",l.LabelButtonActionEnum.SYNC)("loading",l.coreService.isLoading)("severity",l.SeverityButtonActionEnum.SYNC),o(2),c("value",l.items)("columns",l.columns)("paginator",!0)("rows",10)("loading",l.coreService.isLoading),o(7),c("buttonActions",l.buttonActions)("enabled",l.isButtonActions),o(),c("agreementId",l.agreementId),o(),ne(re(34,Yi)),k("visible",l.isVisibleFilesModal),c("modal",!0),o(3),ne(re(35,ji)),k("visible",l.isVisibleTrackingLogModal),c("modal",!0),o(),g(17,l.isVisibleTrackingLogModal?17:-1),o(),ne(re(36,yt)),k("visible",l.isVisibleRefusedModal),c("modal",!0),o(2),c("formGroup",l.form),o(2),c("required",l.observationFileField),o(2),c("errors",l.observationFileField.errors)("touched",l.observationFileField.touched)("dirty",l.observationFileField.dirty),o(2),ne(re(37,yt)),k("visible",l.isVisibleAcceptedModal),c("modal",!0))},dependencies:[Ve,ke,ue,G,ie,J,we,Se,ye,Ie,X,Z,te,ee,De,Be,_e,Ne,Re,Me,$e,Oe,St,ce],styles:[".enabled[_ngcontent-%COMP%]{background-color:var(--red-200)}"]});let t=i;return t})();var Dn=[{path:"agreement-list",component:Tt},{path:"period-list/:agreementId",component:It},{path:"tracking-log-list",component:Oe}],wt=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=be({imports:[He.forChild(Dn),He]});let t=i;return t})();var ir=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=be({imports:[Qe,wt,vt,dt,ot,mt,ct,at,gt,rt,lt,ft,xt,At,Et,pt,st,_t,bt]});let t=i;return t})();export{ir as NationalSupervisorModule};
