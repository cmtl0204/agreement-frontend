import{i as $,r as R,s as d,t as L,v}from"./chunk-ZFS7MCCM.js";import{E as m,Hb as D,j as A,k as a,p as C,s as E,ub as S,v as p,vb as I,y as f,yb as h,z as c}from"./chunk-3AQ5X5KI.js";var n={production:!0,API_URL:"http://192.168.20.42:8082",APP_NAME:"Pruebas Sistema Inform\xE1tico de Convenios",APP_SHORT_NAME:"SIC"};var U=(()=>{let s=class s{constructor(){this.API_URL=`${n.API_URL}/catalogues`,this.httpClient=c(h),this.messageService=c(d)}create(t){let r=`${this.API_URL}`;return this.httpClient.post(r,t).pipe(a(i=>(this.messageService.success(i),i.data)))}findAll(){let t=this.API_URL;return this.httpClient.get(t).pipe(a(r=>(sessionStorage.setItem("catalogues",JSON.stringify(r.data)),r.data)))}findOne(t){let r=`${this.API_URL}/${t}`;return this.httpClient.get(r).pipe(a(i=>i.data))}update(t,r){let i=`${this.API_URL}/${t}`;return this.httpClient.put(i,r).pipe(a(o=>(this.messageService.success(o),o.data)))}remove(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageService.success(i),i.data)))}removeAll(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageService.success(i),i.data)))}loadCache(){let t=`${this.API_URL}`;this.httpClient.get(t).subscribe(r=>{sessionStorage.setItem("catalogues",JSON.stringify(r.data))})}findByType(t){let r=JSON.parse(String(sessionStorage.getItem("catalogues")));return r?r.filter(i=>i.type===t):[]}findByParent(t){let r=JSON.parse(String(sessionStorage.getItem("catalogues")));return r?r.filter(i=>i.parentId===t):[]}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var b=function(e){return e.USERS_BLOOD_TYPE="USERS_BLOOD_TYPE",e.USERS_GENDER="USERS_GENDER",e.USERS_ETHNIC_ORIGIN="USERS_ETHNIC_ORIGIN",e.USERS_IDENTIFICATION_TYPE="USERS_IDENTIFICATION_TYPE",e.USERS_MARITAL_STATUS="USERS_MARITAL_STATUS",e.USERS_SEX="USERS_SEX",e.ADMINISTRATORS_UNIT="ADMINISTRATORS_UNIT",e.ADMINISTRATORS_POSITION="ADMINISTRATORS_POSITION",e.AGREEMENT_STATES_STATE="AGREEMENT_STATES_STATE",e.AGREEMENTS_ORIGIN="AGREEMENTS_ORIGIN",e.AGREEMENTS_TYPE="AGREEMENTS_TYPE",e.INTERNAL_INSTITUTIONS_POSITION="INTERNAL_INSTITUTIONS_POSITION",e.EXTERNAL_INSTITUTIONS_PERSON_TYPE="EXTERNAL_INSTITUTIONS_PERSON_TYPE",e.INTERNAL_INSTITUTIONS_PERSON_TYPE="INTERNAL_INSTITUTIONS_PERSON_TYPE",e.AGREEMENTS_SPECIAL_TYPE="AGREEMENTS_SPECIAL_TYPE",e.OBLIGATIONS_TYPE="OBLIGATIONS_TYPE",e.AGREEMENTS_CLOSING_TYPE="AGREEMENTS_CLOSING_TYPE",e.AGREEMENTS_ENABLING_DOCUMENT="AGREEMENTS_ENABLING_DOCUMENT",e.AGREEMENTS_ADDENDUM_DOCUMENT="AGREEMENTS_ADDENDUM_DOCUMENT",e.AGREEMENTS_EXECUTION_DOCUMENT="AGREEMENTS_EXECUTION_DOCUMENT",e.AGREEMENTS_ADDITIONAL_EXECUTION_PROGRESS_DOCUMENT="AGREEMENTS_ADDITIONAL_EXECUTION_PROGRESS_DOCUMENT",e.AGREEMENTS_CLOSING_ADVANCE_DOCUMENT="AGREEMENTS_CLOSING_ADVANCE_DOCUMENT",e.AGREEMENTS_CLOSING_DOCUMENT="AGREEMENTS_CLOSING_DOCUMENT",e}(b||{}),H=function(e){return e.IDENTIFICATION="1",e.PASSPORT="2",e}(H||{}),j=function(e){return e.NEW="new",e}(j||{}),k=function(e){return e.SPECIAL="SPECIAL",e}(k||{});var V=function(e){return e.INTERNAL="INTERNAL",e.EXTERNAL="EXTERNAL",e.JOIN="JOIN",e}(V||{});var J=function(e){return e.PUBLIC="PUBLIC",e.PRIVATE_NATURAL="PRIVATE_NATURAL",e.PRIVATE_LEGAL="PRIVATE_LEGAL",e}(J||{});var Y=function(e){return e.CURRENT="CURRENT",e.CLOSING_PROCESS="CLOSING_PROCESS",e.CLOSED="CLOSED",e}(Y||{});var T=function(e){return e.ADMIN="admin",e.AGREEMENT_ADMINISTRATOR="agreement-administrator",e.NATIONAL_SUPERVISOR="national-supervisor",e.INTERNATIONAL_SUPERVISOR="international-supervisor",e}(T||{});var W=function(e){return e.APPROVED="approved",e.REJECTED="rejected",e.ENROLLED="enrolled",e.REGISTERED="registered",e.SENT_REQUEST="sent_request",e.UPDATE="update",e.DELETE="delete",e.COMPLETE="complete",e.DOWNLOADS="downloads",e.ENABLE="enable",e.DISABLE="disable",e.HIDE="hide",e.SELECT="select",e.PARALLEL_CAPACITY="parallel_capacity",e.SHOW_EVENTS="show_events",e.OPEN_SCHOOL_PERIOD="open_school_period",e.CLOSE_SCHOOL_PERIOD="close_school_period",e.FILE_LIST="file_list",e.SUBJECT_REQUIREMENTS="subject_requirements",e.SUSPEND="suspend",e.REACTIVATE="reactivate",e.VIEW="view",e}(W||{}),F=function(e){return e.ADD="Agregar",e.ACTIONS="Acciones",e.CREATE="Crear",e.CANCEL="Cancelar",e.RETURN="Regresar",e.SAVE="Guardar",e.UPDATE="Editar",e.COMPLETE="Completar Registro",e.VIEW="Visualizar",e.DELETE="Eliminar",e.DOWNLOAD="Descargar",e.DOWNLOADS="Descargas",e.SUSPEND="Suspender",e.HIDE="Ocultar",e.SELECT="Seleccionar",e.ENABLE="Habilitar",e.DISABLE="Deshabilitar",e.SHOW_EVENTS="Mostar Eventos",e.OPEN_SCHOOL_PERIOD="Abrir Periodo Lectivo",e.CLOSE_SCHOOL_PERIOD="Cerrar Periodo Lectivo",e.FILE_LIST="Lista de Archivos",e.SUBJECT_REQUIREMENTS="Pre y Co Requisitos",e.SYNC="Sincronizar",e.CAREERS="Carreras",e.CURRICULUMS="Mallas Curriculares",e.SUBJECTS="Asignaturas",e.PARALLEL_CAPACITY="Capacidad Paralelos",e.REACTIVATE="Reactivar",e.COMPONENTS="Componentes",e.ACTIVITIES="Actividades",e}(F||{}),z=function(e){return e.ADD="pi pi-plus",e.CREATE="pi pi-plus",e.SYNC="pi pi-sync",e.UPDATE="pi pi-pencil",e.COMPLETE="pi pi-pencil",e.CANCEL="pi pi-times",e.RETURN="pi pi-arrow-left",e.DOWNLOAD="pi pi-download",e.DOWNLOADS="pi pi-download",e.SAVE="pi pi-save",e.SUSPEND="pi pi-ban",e.PARALLEL_CAPACITY="pi pi-list",e.DELETE="pi pi-trash",e.HIDE="pi pi-eye-slash",e.SELECT="pi pi-check",e.ENABLE="pi pi-eye",e.DISABLE="pi pi-eye-slash",e.SHOW_EVENTS="Mostar Eventos",e.OPEN_SCHOOL_PERIOD="Abrir Periodo Lectivo",e.CLOSE_SCHOOL_PERIOD="Cerrar Periodo Lectivo",e.FILE_LIST="pi pi-file",e.SUBJECT_REQUIREMENTS="Pre y Co Requisitos",e.REACTIVATE="Reactivar",e.VIEW="pi pi-eye",e}(z||{}),X=function(e){return e.CREATE="success",e.ADD="success",e.CANCEL="danger",e.RETURN="warning",e.SAVE="primary",e.SYNC="info",e.DELETE="danger",e.UPDATE="warning",e.DOWNLOAD="info",e}(X||{});var q=function(e){return e.FORM="Formulario",e.PROFILE="Mi Perfil",e.USERS="Usuarios",e.AGREEMENTS="Lista de Convenios",e.AGREEMENTS_REGISTER="Registrar Convenio",e}(q||{});var Q=function(e){return e.RECTANGLE="RECTANGLE",e.ROUNDED="ROUNDED",e.SQUARE="SQUARE",e.CIRCLE="CIRCLE",e.CARD="CARD",e.LIST="LIST",e.TABLE="TABLE",e}(Q||{});var O=function(e){return e.APP_TOAST="appToast",e.APP_CONFIRM_DIALOG="appConfirmDialog",e.APP_CONFIRM_POPUP="appConfirmPopup",e}(O||{}),Z=function(e){return e.ACTIONS="Acciones",e.SEARCH="Buscar...",e}(Z||{});var K=function(e){return e.username="Correo electr\xF3nico instuticional",e.password="Contrase\xF1a",e.passwordNew="Nueva contrase\xF1a",e.passwordConfirmation="Repita la contrase\xF1a",e.roleSelect="Seleccione un rol",e}(K||{}),B=function(e){return e.email="Correo electr\xF3nico",e.identification="N\xFAmero de documento",e.identificationType="Tipo de documento",e.lastname="Apellidos",e.name="Nombres",e.password="Contrase\xF1a",e.passwordChanged="Confirmar contrase\xF1a",e.roles="Roles",e.unitManagers="Unidades ejecutoras",e.bloodType="Tipo de sangre",e.ethnicOrigin="Etnia",e}(B||{}),ee=function(e){return e.type="Tipo de documento",e.myFile="Archivo",e.name="Nombre del archivo",e}(ee||{}),te=function(e){return e.header="Financiamientos",e.institutionName="Comparecientes del convenio",e.budget="Presupusesto y financiamiento",e.paymentMethod="Forma de pago",e.source="Fuente de financiamiento",e}(te||{});var re=function(e){return e.basicData="Datos B\xE1sicos",e.appearer="Comparecientes del convenio",e.obligation="Obligaciones",e.financing="Financiamiento",e.enablingDocument="Documentos Habilitantes",e.agreementDate="Fechas del convenio",e.administrator="Administrador del convenio",e.addendum="Adendas",e}(re||{}),ie=function(e){return e.name="Nombre entidad",e.unit="Unidad",e.position="Cargo del funcionario",e.personType="Entidad",e}(ie||{}),se=function(e){return e.name="Nombre entidad",e.position="Cargo",e.unit="Unidad",e.personType="Entidad",e}(se||{});var ae=function(e){return e.header="Obligaciones",e.institutionName="Nombre de la Instituci\xF3n",e.type="Tipo de obligaci\xF3n",e}(ae||{}),oe=function(e){return e.description="Obligaci\xF3n",e}(oe||{});var ce=function(e){return e.header="Datos B\xE1sicos",e.enabled="Estado de Registro",e.subscribedAt="Fecha suscripci\xF3n del convenio",e.startedAt="Fecha inicio del convenio",e.isFinishDate="\xBFEl convenio cuenta con fecha de terminaci\xF3n?",e.endedAt="Fecha de terminaci\xF3n del Convenio",e.endedReason="Raz\xF3n de terminaci\xF3n del convenio",e.isAddendum="\xBFRegistra Adendas?",e.totalTerm="Plazo total del convenio",e.yearTerm="A\xF1os",e.monthTerm="Meses",e.dayTerm="D\xEDas",e.objective="Objeto del convenio",e.name="Nombre del convenio",e.internalNumber="N\xFAmero interno de convenio",e.number="N\xFAmero de convenio",e.origin="Origen del convenio",e.type="Tipo del convenio",e.isFinancing="\xBFRegistra Financiamiento?",e.specialType="Tipo espec\xEDfico del convenio",e}(ce||{}),ne=function(e){return e.state="Estado del convenio",e}(ne||{}),pe=function(e){return e.header="Administrador del convenio",e.position="Administrador del convenio",e.unit="Unidad Administrativa",e.user="Responsable del convenio",e}(pe||{}),he=function(e){return e.header="Adendas",e.description="Descripci\xF3n",e.file="Documento",e}(he||{});var le=(()=>{let s=class s{constructor(){this.API_URL=`${n.API_URL}/files`,this.messageServicePn=c($),this.coreService=c(R),this.httpClient=c(h),this.messageDialogService=c(v)}findByModel(t){let r=`${this.API_URL}/models/${t}`;return this.httpClient.get(r).pipe(a(i=>i))}findOne(t){let r=`${this.API_URL}/${t}`;return this.httpClient.get(r).pipe(a(i=>i.data))}uploadFile(t,r,i){let o=`${this.API_URL}/${t}/upload?typeId=${r}`;return this.coreService.isProcessing=!0,this.httpClient.post(o,i).pipe(a(l=>(this.coreService.isProcessing=!1,this.messageServicePn.clear(),this.messageServicePn.add({key:O.APP_TOAST,severity:"info",summary:l.title,detail:l.message}),l.data)))}uploadImage(t,r){let i=`${this.API_URL}/${t}/upload-image`;return this.coreService.isProcessing=!0,this.httpClient.post(i,r).pipe(a(o=>(this.coreService.isProcessing=!1,this.messageServicePn.clear(),this.messageServicePn.add({key:O.APP_TOAST,severity:"info",summary:o.title,detail:o.message}),o.data)))}uploadFiles(t,r){let i=`${this.API_URL}/models/${t}`;return this.httpClient.post(i,r).pipe(a(o=>(this.messageDialogService.successHttp(o),o.data)))}remove(t){let r=`${this.API_URL}/${t}`;return this.coreService.isProcessing=!0,this.httpClient.delete(r).pipe(a(i=>(this.coreService.isProcessing=!1,this.messageDialogService.successHttp(i),i.data)))}downloadFile(t){let r=`${this.API_URL}/${t.id}/download`;this.coreService.isProcessing=!0,this.httpClient.get(r,{responseType:"blob"}).subscribe(i=>{let o=URL.createObjectURL(new Blob([i])),l=document.createElement("a");l.href=o,l.setAttribute("download",t.name),document.body.appendChild(l),l.click(),this.coreService.isProcessing=!1})}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var de=(()=>{let s=class s{constructor(){this.API_URL=`${n.API_URL}/agreements`,this.httpClient=c(h),this.messageService=c(d),this.messageDialogService=c(v)}register(t){let r=`${this.API_URL}`;return this.httpClient.post(r,t).pipe(a(i=>(this.messageDialogService.successHttp(i),i.data)))}finish(t){let r=`${this.API_URL}/${t}/finish`;return this.httpClient.patch(r,null).pipe(a(i=>(this.messageDialogService.successHttp(i),i.data)))}uploadEnablingDocuments(t,r){let i=`${this.API_URL}/${t}/enabling-documents`;return this.httpClient.post(i,r).pipe(a(o=>(this.messageDialogService.successHttp(o),o.data)))}uploadAddendum(t,r){let i=`${this.API_URL}/${t}/addendums`;return this.httpClient.post(i,r).pipe(a(o=>(this.messageDialogService.successHttp(o),o.data)))}uploadEnablingDocument(t,r){let i=`${this.API_URL}/${t}/enabling-documents`;return this.httpClient.post(i,r).pipe(a(o=>(this.messageDialogService.successHttp(o),o.data)))}findNationalAgreementsByOrigin(){let t=`${this.API_URL}/national-agreements`;return this.httpClient.get(t).pipe(a(r=>r.data))}findInternationalAgreementsByOrigin(){let t=`${this.API_URL}/international-agreements`;return this.httpClient.get(t).pipe(a(r=>r.data))}findOne(t){let r=`${this.API_URL}/${t}`;return this.httpClient.get(r).pipe(a(i=>i.data))}update(t,r){let i=`${this.API_URL}/${t}`;return this.httpClient.put(i,r).pipe(a(o=>(this.messageService.success(o),o.data)))}remove(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageService.success(i),i.data)))}verifyInternalNumber(t){let r=`${this.API_URL}/${t}/verify-internalnumber`;return this.httpClient.get(r).pipe(a(i=>i.data))}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var fe=(()=>{let s=class s{constructor(){this.API_URL=`${n.API_URL}/addendums`,this.httpClient=c(h),this.messageDialogService=c(v)}remove(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageDialogService.successHttp(i),i.data)))}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var _=(()=>{let s=class s{constructor(){this.API_URL=`${n.API_URL}/locations`,this.httpClient=c(h),this.messageService=c(d)}create(t){let r=`${this.API_URL}`;return this.httpClient.post(r,t).pipe(a(i=>(this.messageService.success(i),i.data)))}findAll(t=1,r=""){let i=this.API_URL,o=new S().append("pagination","true"),l=new I().append("page",t).append("search",r);return this.httpClient.get(i,{headers:o,params:l}).pipe(a(N=>N.data))}findOne(t){let r=`${this.API_URL}/${t}`;return this.httpClient.get(r).pipe(a(i=>i.data))}update(t,r){let i=`${this.API_URL}/${t}`;return this.httpClient.put(i,r).pipe(a(o=>(this.messageService.success(o),o.data)))}remove(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageService.success(i),i.data)))}removeAll(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageService.success(i),i.data)))}findCache(){let t=`${this.API_URL}/cache/get`;return this.httpClient.get(t).pipe(a(r=>(sessionStorage.setItem("locations",JSON.stringify(r.data)),!0)))}findCountries(){return JSON.parse(String(sessionStorage.getItem("locations"))).filter(r=>r.level===1)}findProvincesByCountry(t){return JSON.parse(String(sessionStorage.getItem("locations"))).filter(i=>i.level===2&&i.parentId===t)}findCantonsByProvince(t){return JSON.parse(String(sessionStorage.getItem("locations"))).filter(i=>i.level===3&&i.parentId===t)}findParishesByCanton(t){return JSON.parse(String(sessionStorage.getItem("locations"))).filter(i=>i.level===4&&i.parentId===t)}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var Pt=(()=>{let s=class s{transform(t,...r){return typeof t=="string"&&(t.includes("T")||(t=`${t}T05:00:00.000Z`)),t}};s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=m({name:"dateFormat",type:s,pure:!0});let e=s;return e})();var x=(()=>{let s=class s{transform(t){switch(t&&(t=t.toLowerCase()),t){case"admin":return"Administrator";case"teacher":return"Teacher";case"student":return"Student"}return"No Role"}};s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=m({name:"role",type:s,pure:!0});let e=s;return e})();var M=(()=>{let s=class s{constructor(){this.routesService=c(L),this.messageDialogService=c(v)}get accessToken(){let t=sessionStorage.getItem("accessToken");return t&&(t="Bearer "+t.replace(/"/g,"")),t}set accessToken(t){sessionStorage.setItem("accessToken",JSON.stringify(t))}get tokenDecode(){return sessionStorage.getItem("tokenDecode")}set tokenDecode(t){sessionStorage.setItem("tokenDecode",JSON.stringify(t))}set avatar(t){let r=this.auth;r.avatar=t,sessionStorage.setItem("auth",JSON.stringify(r))}get auth(){return JSON.parse(String(sessionStorage.getItem("auth")))}set auth(t){sessionStorage.setItem("auth",JSON.stringify(t))}get permissions(){return JSON.parse(String(sessionStorage.getItem("permissions")))}set permissions(t){sessionStorage.setItem("permissions",JSON.stringify(t))}get role(){return JSON.parse(String(sessionStorage.getItem("role")))}set role(t){sessionStorage.setItem("role",JSON.stringify(t))}get roles(){return JSON.parse(String(sessionStorage.getItem("roles")))}set roles(t){sessionStorage.setItem("roles",JSON.stringify(t))}get keepSession(){return JSON.parse(String(sessionStorage.getItem("keepSession")))}set keepSession(t){sessionStorage.setItem("keepSession",JSON.stringify(t))}get system(){return n.APP_NAME}get systemShortName(){return n.APP_SHORT_NAME}removeLogin(){localStorage.clear(),sessionStorage.clear()}selectDashboard(){switch(this.messageDialogService.successCustom(`Bienvenido, ${this.auth.name} ${this.auth.lastname}`,"Ingreso Correcto"),this.role.code){case T.ADMIN:{this.routesService.dashboardAdmin();break}case T.AGREEMENT_ADMINISTRATOR:{this.routesService.dashboardAdministrator();break}case T.NATIONAL_SUPERVISOR:{this.routesService.dashboardNationalSupervisor();break}case T.INTERNATIONAL_SUPERVISOR:{this.routesService.dashboardInternationalSupervisor();break}default:this.routesService.dashboardNationalSupervisor()}}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var er=(()=>{let s=class s{constructor(t,r,i){this.coreService=t,this.httpClient=r,this.messageService=i,this.API_URL=`${n.API_URL}/menus`}create(t){let r=`${this.API_URL}`;return this.httpClient.post(r,t).pipe(a(i=>(this.messageService.success(i),i.data)))}catalogue(){let t=`${this.API_URL}/catalogue`;return this.httpClient.get(t).pipe(a(r=>r.data))}getMenusForSidebar(){let t=`${this.API_URL}/sidebar`;return this.httpClient.get(t).pipe(a(r=>r.data))}getMenusByRole(t){let r=`${this.API_URL}/roles/${t}`;return this.httpClient.get(r).pipe(a(i=>i.data))}findAll(t=0,r=""){let i=this.API_URL,o=new S().append("pagination","true"),l=new I().append("page",t).append("search",r);return this.httpClient.get(i,{headers:o,params:l}).pipe(a(N=>N.data))}findOne(t){let r=`${this.API_URL}/${t}`;return this.httpClient.get(r).pipe(a(i=>i.data))}update(t,r){let i=`${this.API_URL}/${t}`;return this.httpClient.put(i,r).pipe(a(o=>(this.messageService.success(o),o.data)))}remove(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageService.success(i),i.data)))}removeAll(t){let r=`${this.API_URL}/remove-all`;return this.httpClient.patch(r,t).pipe(a(i=>(this.messageService.success(i),i.data)))}};s.\u0275fac=function(r){return new(r||s)(f(R),f(h),f(d))},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var ar=(()=>{let s=class s{constructor(t,r){this.httpClient=t,this.messageService=r,this.API_URL=`${n.API_URL}/users`}create(t){let r=`${this.API_URL}`;return this.httpClient.post(r,t).pipe(a(i=>(this.messageService.success(i),i.data)))}findUsers(t=0,r=""){let i=this.API_URL,o=new S().append("pagination","true"),l=new I().append("page",t).append("search",r).append("limit","2");return this.httpClient.get(i,{headers:o,params:l}).pipe(a(N=>N))}findOne(t){let r=`${this.API_URL}/${t}`;return this.httpClient.get(r).pipe(a(i=>i.data))}findAllUsersLDAP(){let t=`${this.API_URL}/ldap`;return this.httpClient.get(t).pipe(a(r=>r))}update(t,r){let i=`${this.API_URL}/${t}`;return this.httpClient.put(i,r).pipe(a(o=>(this.messageService.success(o),o.data)))}reactivate(t){let r=`${this.API_URL}/${t}/reactivate`;return this.httpClient.put(r,null).pipe(a(i=>(this.messageService.success(i),i.data)))}remove(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageService.success(i),i.data)))}removeAll(t){let r=`${this.API_URL}/remove-all`;return this.httpClient.patch(r,t).pipe(a(i=>(this.messageService.success(i),i.data)))}suspend(t){let r=`${this.API_URL}/${t}/suspend`;return this.httpClient.put(r,null).pipe(a(i=>(this.messageService.success(i),i.data)))}findCatalogues(){let t=`${this.API_URL}/catalogues`;return this.httpClient.get(t).pipe(a(r=>r.data))}};s.\u0275fac=function(r){return new(r||s)(f(h),f(d))},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var hr=(()=>{let s=class s{constructor(t,r,i){this.coreService=t,this.httpClient=r,this.messageService=i,this.API_URL=`${n.API_URL}/roles`}create(t){let r=`${this.API_URL}`;return this.httpClient.post(r,t).pipe(a(i=>(this.messageService.success(i),i.data)))}findAll(t=0,r=""){let i=this.API_URL,o=new S().append("pagination","true"),l=new I().append("page",t).append("search",r);return this.httpClient.get(i,{headers:o,params:l}).pipe(a(N=>N.data))}findOne(t){let r=`${this.API_URL}/${t}`;return this.httpClient.get(r).pipe(a(i=>i.data))}update(t,r){let i=`${this.API_URL}/${t}`;return this.httpClient.put(i,r).pipe(a(o=>(this.messageService.success(o),o.data)))}remove(t){let r=`${this.API_URL}/${t}`;return this.httpClient.delete(r).pipe(a(i=>(this.messageService.success(i),i.data)))}removeAll(t){let r=`${this.API_URL}/remove-all`;return this.httpClient.patch(r,t).pipe(a(i=>(this.messageService.success(i),i.data)))}findCatalogues(){let t=`${this.API_URL}/catalogues`;return this.httpClient.get(t).pipe(a(r=>r.data))}};s.\u0275fac=function(r){return new(r||s)(f(R),f(h),f(d))},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var P=class extends Error{};P.prototype.name="InvalidTokenError";function ue(e){return decodeURIComponent(atob(e).replace(/(.)/g,(s,g)=>{let t=g.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}function Se(e){let s=e.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return ue(s)}catch{return atob(s)}}function G(e,s){if(typeof e!="string")throw new P("Invalid token specified: must be a string");s||(s={});let g=s.header===!0?0:1,t=e.split(".")[g];if(typeof t!="string")throw new P(`Invalid token specified: missing part #${g+1}`);let r;try{r=Se(t)}catch(i){throw new P(`Invalid token specified: invalid base64 for part #${g+1} (${i.message})`)}try{return JSON.parse(r)}catch(i){throw new P(`Invalid token specified: invalid json for part #${g+1} (${i.message})`)}}var $r=(()=>{let s=class s{constructor(){this.API_URL=`${n.API_URL}/auth`,this.rolePipe=new x,this.httpClient=c(h),this.authService=c(M),this.coreService=c(R),this.cataloguesHttpService=c(U),this.locationsHttpService=c(_),this.router=c(D),this.routesService=c(L),this.messageService=c(d)}signup(t){let r=`${this.API_URL}/patients/users`;return this.httpClient.post(r,t).pipe(a(i=>(this.messageService.success(i),i.data)),E(()=>{this.router.navigateByUrl("/login")}))}changePassword(t,r){let i=`${this.API_URL}/${t}/change-password`;return this.coreService.isProcessing=!0,this.httpClient.put(i,r).pipe(a(o=>(this.coreService.isProcessing=!1,this.messageService.success(o),o.data)))}login(t){let r=`${this.API_URL}/login`;return this.cataloguesHttpService.loadCache(),this.httpClient.post(r,t).pipe(a(i=>{let o=G(i.data.accessToken);return this.authService.accessToken=i.data.accessToken,this.authService.auth=i.data.auth,this.authService.roles=i.data.roles,i}))}signOut(){this.authService.removeLogin(),this.messageService.successCustom("Cerrar Sesi\xF3n","Se cerr\xF3 correctamente"),this.router.navigate(["/login"])}resetPassword(t){let r=`${this.API_URL}/reset-passwords`;return this.httpClient.patch(r,t).pipe(a(i=>(this.messageService.success(i),i)))}verifyUser(t){let r=`${this.API_URL}/verify-user/${t}`;return this.httpClient.get(r).pipe(a(i=>i),C(i=>A(i)))}verifyEmail(t){let r=`${this.API_URL}/verify-email/${t}`;return this.httpClient.get(r).pipe(a(i=>i),C(i=>A(i)))}verifyPhone(t){let r=`${this.API_URL}/verify-phone/${t}`;return this.httpClient.get(r).pipe(a(i=>i),C(i=>A(i)))}requestTransactionalCode(t){let r=`${this.API_URL}/transactional-codes/${t}/request`;return this.httpClient.get(r).pipe(a(i=>(this.messageService.success(i),i.data)))}verifyTransactionalCode(t,r){let i=`${this.API_URL}/transactional-codes/${t}/verify`;return this.httpClient.patch(i,{username:r}).pipe(a(o=>(this.messageService.success(o),o.data)))}getProfile(){let t=`${this.API_URL}/profile`;return this.httpClient.get(t).pipe(a(r=>r.data))}getUserInformation(){let t=`${this.API_URL}/user-information`;return this.httpClient.get(t).pipe(a(r=>r.data))}updateProfile(t){let r=`${this.API_URL}/profile`;return this.coreService.isProcessing=!0,this.httpClient.put(r,t).pipe(a(i=>(this.coreService.isProcessing=!1,this.messageService.success(i),i.data)))}updateUserInformation(t){let r=`${this.API_URL}/user-information`;return this.coreService.isProcessing=!0,this.httpClient.put(r,t).pipe(a(i=>(this.coreService.isProcessing=!1,this.messageService.success(i),i.data)))}uploadAvatar(t,r){let i=`${this.API_URL}/${t}/avatar`;return this.coreService.isProcessing=!0,this.httpClient.post(i,r).pipe(a(o=>(this.coreService.isProcessing=!1,this.messageService.success(o),o.data)))}};s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();export{n as a,U as b,b as c,H as d,j as e,k as f,V as g,J as h,Y as i,T as j,W as k,F as l,z as m,X as n,q as o,Q as p,O as q,Z as r,K as s,B as t,ee as u,te as v,re as w,ie as x,se as y,ae as z,oe as A,ce as B,ne as C,pe as D,he as E,le as F,de as G,fe as H,Pt as I,$r as J,M as K,er as L,ar as M,hr as N};
