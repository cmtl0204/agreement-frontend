import{R as Y,S as Ee,T as ee,h as Ve,k as ke}from"./chunk-ZYNSGTHF.js";import{b as F,d as we,e as Le,l as Z}from"./chunk-7XGGWRWZ.js";import{a as g,b as Ie,ga as R,h as Ce,ha as N,l as Te,m as Se,n as Fe,o as Q,p as J}from"./chunk-4DEWF7IY.js";import{$ as D,Aa as E,Ba as I,C as ne,Ca as r,Da as ue,E as oe,Ea as $,Fa as P,Ga as M,Ha as C,I as x,Ia as T,J as le,Ja as G,K as se,La as L,Ma as B,Na as A,O as m,P as h,T as ae,Ta as _e,U as w,Wa as me,Xa as S,Ya as H,Za as j,_ as c,da as re,ga as K,hb as W,ia as ce,ja as p,ka as f,kb as he,la as a,lb as b,m as k,ma as pe,mb as X,nb as fe,oa as de,pa as U,tb as ge,ua as d,ub as xe,va as u,vb as be,wa as z,wb as ye,xa as O,xb as Oe,ya as v,za as y,zb as ve}from"./chunk-EUOB27Q6.js";var Ne=["headerchkbox"],ze=["filter"],Pe=["lastHiddenFocusableElement"],Ge=["firstHiddenFocusableElement"],Qe=["scroller"],qe=["list"],Ue=[[["p-header"]],[["p-footer"]]],$e=["p-header","p-footer"],q=(n,l)=>({$implicit:n,options:l}),Me=n=>({"p-checkbox-disabled":n}),Be=(n,l,e)=>({"p-highlight":n,"p-focus":l,"p-disabled":e}),De=n=>({options:n}),te=n=>({height:n}),je=()=>({}),We=n=>({$implicit:n}),Xe=(n,l,e)=>({"p-listbox-item":!0,"p-highlight":n,"p-focus":l,"p-disabled":e}),Je=(n,l)=>({$implicit:n,index:l}),Ye=n=>({"p-highlight":n});function Ze(n,l){n&1&&y(0)}function et(n,l){if(n&1&&(d(0,"div",19),$(1),p(2,Ze,1,0,"ng-container",20),u()),n&2){let e=r();c(2),a("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",H(2,q,e.modelValue(),e.visibleOptions()))}}function tt(n,l){n&1&&z(0,"CheckIcon",29),n&2&&(a("styleClass","p-checkbox-icon"),f("aria-hidden",!0))}function it(n,l){}function nt(n,l){n&1&&p(0,it,0,0,"ng-template")}function ot(n,l){if(n&1&&(d(0,"span",30),p(1,nt,1,0,null,31),u()),n&2){let e=r(4);f("aria-hidden",!0),c(),a("ngTemplateOutlet",e.checkIconTemplate)}}function lt(n,l){if(n&1&&(O(0),p(1,tt,1,2,"CheckIcon",27)(2,ot,2,2,"span",28),v()),n&2){let e=r(3);c(),a("ngIf",!e.checkIconTemplate),c(),a("ngIf",e.checkIconTemplate)}}function st(n,l){if(n&1){let e=E();d(0,"div",23),I("click",function(i){m(e);let o=r(2);return h(o.onToggleAll(i))})("keydown",function(i){m(e);let o=r(2);return h(o.onHeaderCheckboxKeyDown(i))}),d(1,"div",24)(2,"input",25,4),I("focus",function(i){m(e);let o=r(2);return h(o.onHeaderCheckboxFocus(i))})("blur",function(i){m(e);let o=r(2);return h(o.onHeaderCheckboxBlur(i))}),u()(),d(4,"div",26),p(5,lt,3,2,"ng-container",15),u()()}if(n&2){let e=r(2);a("ngClass",S(8,Me,e.disabled||e.toggleAllDisabled)),c(),f("data-p-hidden-accessible",!0),c(),a("disabled",e.disabled||e.toggleAllDisabled),f("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),c(2),a("ngClass",j(10,Be,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),f("aria-checked",e.allSelected()),c(),a("ngIf",e.allSelected())}}function at(n,l){n&1&&y(0)}function rt(n,l){if(n&1&&(O(0),p(1,at,1,0,"ng-container",20),v()),n&2){let e=r(2);c(),a("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",S(2,De,e.filterOptions))}}function ct(n,l){n&1&&z(0,"SearchIcon",29),n&2&&(a("styleClass","p-listbox-filter-icon"),f("aria-hidden",!0))}function pt(n,l){}function dt(n,l){n&1&&p(0,pt,0,0,"ng-template")}function ut(n,l){if(n&1&&(d(0,"span",37),p(1,dt,1,0,null,31),u()),n&2){let e=r(4);f("aria-hidden",!0),c(),a("ngTemplateOutlet",e.filterIconTemplate)}}function _t(n,l){if(n&1){let e=E();d(0,"div",34)(1,"input",35,5),I("input",function(i){m(e);let o=r(3);return h(o.onFilterChange(i))})("keydown",function(i){m(e);let o=r(3);return h(o.onFilterKeyDown(i))})("blur",function(i){m(e);let o=r(3);return h(o.onFilterBlur(i))}),u(),p(3,ct,1,2,"SearchIcon",27)(4,ut,2,2,"span",36),u()}if(n&2){let e=r(3);c(),a("value",e._filterValue()||"")("disabled",e.disabled)("tabindex",!e.disabled&&!e.focused?e.tabindex:-1),f("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),c(2),a("ngIf",!e.filterIconTemplate),c(),a("ngIf",e.filterIconTemplate)}}function mt(n,l){if(n&1&&(p(0,_t,5,9,"div",32),d(1,"span",33),L(2),u()),n&2){let e=r(2);a("ngIf",e.filter),c(),f("data-p-hidden-accessible",!0),c(),A(" ",e.filterResultMessageText," ")}}function ht(n,l){if(n&1&&(d(0,"div",19),p(1,st,6,14,"div",21)(2,rt,2,4,"ng-container",22)(3,mt,3,3,"ng-template",null,3,W),u()),n&2){let e=G(4),t=r();c(),a("ngIf",t.checkbox&&t.multiple&&t.showToggleAll),c(),a("ngIf",t.filterTemplate)("ngIfElse",e)}}function ft(n,l){n&1&&y(0)}function gt(n,l){if(n&1&&p(0,ft,1,0,"ng-container",20),n&2){let e=l.$implicit,t=l.options;r(2);let i=G(9);a("ngTemplateOutlet",i)("ngTemplateOutletContext",H(2,q,e,t))}}function xt(n,l){n&1&&y(0)}function bt(n,l){if(n&1&&p(0,xt,1,0,"ng-container",20),n&2){let e=l.options,t=r(3);a("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",S(2,De,e))}}function yt(n,l){n&1&&(O(0),p(1,bt,1,4,"ng-template",40),v())}function Ot(n,l){if(n&1){let e=E();d(0,"p-scroller",38,6),I("onLazyLoad",function(i){m(e);let o=r();return h(o.onLazyLoad.emit(i))}),p(2,gt,1,5,"ng-template",39)(3,yt,2,0,"ng-container",15),u()}if(n&2){let e=r();de(S(9,te,e.scrollHeight)),a("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),c(3),a("ngIf",e.loaderTemplate)}}function vt(n,l){n&1&&y(0)}function It(n,l){if(n&1&&(O(0),p(1,vt,1,0,"ng-container",20),v()),n&2){let e=r(),t=G(9);c(),a("ngTemplateOutlet",t)("ngTemplateOutletContext",H(3,q,e.visibleOptions(),me(2,je)))}}function Ct(n,l){if(n&1&&(d(0,"span"),L(1),u()),n&2){let e=r(2).$implicit,t=r(2);c(),B(t.getOptionGroupLabel(e.optionGroup))}}function Tt(n,l){n&1&&y(0)}function St(n,l){if(n&1&&(O(0),d(1,"li",44),p(2,Ct,2,1,"span",15)(3,Tt,1,0,"ng-container",20),u(),v()),n&2){let e=r(),t=e.$implicit,i=e.index,o=r().options,s=r();c(),a("ngStyle",S(5,te,o.itemSize+"px")),f("id",s.id+"_"+s.getOptionIndex(i,o)),c(),a("ngIf",!s.groupTemplate),c(),a("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",S(7,We,t.optionGroup))}}function Ft(n,l){n&1&&z(0,"CheckIcon",29),n&2&&(a("styleClass","p-checkbox-icon"),f("aria-hidden",!0))}function wt(n,l){}function Lt(n,l){n&1&&p(0,wt,0,0,"ng-template")}function Vt(n,l){if(n&1&&(d(0,"span",30),p(1,Lt,1,0,null,31),u()),n&2){let e=r(6);f("aria-hidden",!0),c(),a("ngTemplateOutlet",e.checkIconTemplate)}}function kt(n,l){if(n&1&&(O(0),p(1,Ft,1,2,"CheckIcon",27)(2,Vt,2,2,"span",28),v()),n&2){let e=r(5);c(),a("ngIf",!e.checkIconTemplate),c(),a("ngIf",e.checkIconTemplate)}}function Et(n,l){if(n&1&&(d(0,"div",47)(1,"div",48),p(2,kt,3,2,"ng-container",15),u()()),n&2){let e=r(2).$implicit,t=r(2);a("ngClass",S(3,Me,t.disabled||t.isOptionDisabled(e))),c(),a("ngClass",S(5,Ye,t.isSelected(e))),c(),a("ngIf",t.isSelected(e))}}function Mt(n,l){if(n&1&&(d(0,"span"),L(1),u()),n&2){let e=r(2).$implicit,t=r(2);c(),B(t.getOptionLabel(e))}}function Dt(n,l){n&1&&y(0)}function Kt(n,l){if(n&1){let e=E();O(0),d(1,"li",45),I("click",function(i){m(e);let o=r(),s=o.$implicit,_=o.index,V=r().options,ie=r();return h(ie.onOptionSelect(i,s,ie.getOptionIndex(_,V)))})("dblclick",function(i){m(e);let o=r().$implicit,s=r(2);return h(s.onOptionDoubleClick(i,o))})("mousedown",function(i){m(e);let o=r().index,s=r().options,_=r();return h(_.onOptionMouseDown(i,_.getOptionIndex(o,s)))})("mouseenter",function(i){m(e);let o=r().index,s=r().options,_=r();return h(_.onOptionMouseEnter(i,_.getOptionIndex(o,s)))})("touchend",function(){m(e);let i=r(3);return h(i.onOptionTouchEnd())}),p(2,Et,3,7,"div",46)(3,Mt,2,1,"span",15)(4,Dt,1,0,"ng-container",20),u(),v()}if(n&2){let e=r(),t=e.$implicit,i=e.index,o=r().options,s=r();c(),a("ngStyle",S(12,te,o.itemSize+"px"))("ngClass",j(14,Xe,s.isSelected(t),s.focusedOptionIndex()===s.getOptionIndex(i,o),s.isOptionDisabled(t))),f("id",s.id+"_"+s.getOptionIndex(i,o))("aria-label",s.getOptionLabel(t))("aria-selected",s.isSelected(t))("aria-disabled",s.isOptionDisabled(t))("aria-setsize",s.ariaSetSize)("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(i,o))),c(),a("ngIf",s.checkbox&&s.multiple),c(),a("ngIf",!s.itemTemplate),c(),a("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",H(18,Je,t,s.getOptionIndex(i,o)))}}function At(n,l){if(n&1&&p(0,St,4,9,"ng-container",15)(1,Kt,5,21,"ng-container",15),n&2){let e=l.$implicit,t=r(2);a("ngIf",t.isOptionGroup(e)),c(),a("ngIf",!t.isOptionGroup(e))}}function Ht(n,l){if(n&1&&(O(0),L(1),v()),n&2){let e=r(3);c(),A(" ",e.emptyFilterMessageText," ")}}function Rt(n,l){n&1&&y(0,null,8)}function Nt(n,l){if(n&1&&(d(0,"li",49),p(1,Ht,2,1,"ng-container",22)(2,Rt,2,0,"ng-container",31),u()),n&2){let e=r(2);c(),a("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),c(),a("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function zt(n,l){if(n&1&&(O(0),L(1),v()),n&2){let e=r(3);c(),A(" ",e.emptyMessage," ")}}function Pt(n,l){n&1&&y(0,null,9)}function Gt(n,l){if(n&1&&(d(0,"li",49),p(1,zt,2,1,"ng-container",22)(2,Pt,2,0,"ng-container",31),u()),n&2){let e=r(2);c(),a("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),c(),a("ngTemplateOutlet",e.emptyTemplate)}}function Qt(n,l){if(n&1){let e=E();d(0,"ul",41,7),I("focus",function(i){m(e);let o=r();return h(o.onListFocus(i))})("blur",function(i){m(e);let o=r();return h(o.onListBlur(i))})("keydown",function(i){m(e);let o=r();return h(o.onListKeyDown(i))}),p(2,At,2,2,"ng-template",42)(3,Nt,3,3,"li",43)(4,Gt,3,3,"li",43),u()}if(n&2){let e=l.$implicit,t=l.options,i=r();a("tabindex",-1)("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle),f("aria-multiselectable",!0)("aria-activedescendant",i.focused?i.focusedOptionId:void 0)("aria-label",i.ariaLabel)("aria-multiselectable",i.multiple)("aria-disabled",i.disabled),c(2),a("ngForOf",e),c(),a("ngIf",i.hasFilter()&&i.isEmpty()),c(),a("ngIf",!i.hasFilter()&&i.isEmpty())}}function qt(n,l){n&1&&y(0)}function Ut(n,l){if(n&1&&(d(0,"div",50),$(1,1),p(2,qt,1,0,"ng-container",20),u()),n&2){let e=r();c(2),a("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",H(2,q,e.modelValue(),e.visibleOptions()))}}function $t(n,l){if(n&1&&(d(0,"span",18),L(1),u()),n&2){let e=r();c(),A(" ",e.emptyMessage," ")}}var Bt={provide:Ve,useExisting:ne(()=>jt),multi:!0},jt=(()=>{class n{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}onChange=new w;onClick=new w;onDblClick=new w;onFilter=new w;onFocus=new w;onBlur=new w;onSelectAllChange=new w;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=K(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;get containerClass(){return{"p-listbox p-component":!0,"p-disabled":this.disabled}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return g.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=K(null);startRangeIndex=K(-1);focusedOptionIndex=K(-1);modelValue=K(null);visibleOptions=fe(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[],t=this._filterValue();return this.searchFields[0]===void 0?t?e.filter(i=>i.toString().toLocaleLowerCase(this.filterLocale).indexOf(t.toLocaleLowerCase(this.filterLocale).trim())!==-1):e:t?this.filterService.filter(e,this.searchFields,t,this.filterMatchMode,this.filterLocale):e});constructor(e,t,i,o,s){this.el=e,this.cd=t,this.filterService=i,this.config=o,this.renderer=s}ngOnInit(){this.id=this.id||Ie(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}writeValue(e){this.value=e,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}flatOptions(e){return(e||[]).reduce((t,i,o)=>{t.push({optionGroup:i,group:!0,index:o});let s=this.getOptionGroupChildren(i);return s&&s.forEach(_=>t.push(_)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,t){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.onChange.emit({originalEvent:t,value:this.value})}removeOption(e){return this.modelValue().filter(t=>!g.equals(t,this.getOptionValue(e),this.equalityKey()))}onOptionSelect(e,t,i=-1){this.disabled||this.isOptionDisabled(t)||this.readonly||(e&&this.onClick.emit({originalEvent:e,option:t,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,t):this.onOptionSelectSingle(e,t),this.optionTouched=!1,i!==-1&&this.focusedOptionIndex.set(i))}onOptionSelectMultiple(e,t){let i=this.isSelected(t),o=null;if(this.optionTouched?!1:this.metaKeySelection){let _=e.metaKey||e.ctrlKey;i?o=_?this.removeOption(t):[this.getOptionValue(t)]:(o=_?this.modelValue()||[]:[],o=[...o,this.getOptionValue(t)])}else o=i?this.removeOption(t):[...this.modelValue()||[],this.getOptionValue(t)];this.updateModel(o,e)}onOptionSelectSingle(e,t){let i=this.isSelected(t),o=!1,s=null;if(this.optionTouched?!1:this.metaKeySelection){let V=e.metaKey||e.ctrlKey;i?V&&(s=null,o=!0):(s=this.getOptionValue(t),o=!0)}else s=i?null:this.getOptionValue(t),o=!0;o&&this.updateModel(s,e)}onOptionSelectRange(e,t=-1,i=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(t)),t!==-1&&i!==-1){let o=Math.min(t,i),s=Math.max(t,i),_=this.visibleOptions().slice(o,s+1).filter(V=>this.isValidOption(V)).map(V=>this.getOptionValue(V));this.updateModel(_,e)}}onToggleAll(e){if(!(this.disabled||this.readonly)){if(F.focus(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let t=this.allSelected()?[]:this.visibleOptions().filter(i=>this.isValidOption(i)).map(i=>this.getOptionValue(i));this.updateModel(t,e)}e.preventDefault()}}allSelected(){return this.selectAll!==null?this.selectAll:g.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(e,t){this.changeFocusedOptionIndex(e,t)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}onOptionDoubleClick(e,t){this.disabled||this.isOptionDisabled(t)||this.readonly||this.onDblClick.emit({originalEvent:e,option:t,value:this.value})}onFirstHiddenFocus(e){F.focus(this.listViewChild.nativeElement);let t=F.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=g.isEmpty(t)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild.nativeElement){let i=F.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");F.focus(i),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else F.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0)}onListFocus(e){this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.onFocus.emit(e)}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(e){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){F.focus(this.listViewChild.nativeElement),e.preventDefault()}onFilterChange(e){let t=e.target.value?.trim();this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&t){let i=this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(i,e),e.preventDefault();break}!t&&g.isPrintableCharacter(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),t),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowUpKey(e){let t=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,t,this.startRangeIndex()),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onHomeKey(e,t=!1){if(t)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let i=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&i&&this.onOptionSelectRange(e,o,this.startRangeIndex()),this.changeFocusedOptionIndex(e,o)}e.preventDefault()}onEndKey(e,t=!1){if(t){let i=e.currentTarget,o=i.value.length;i.setSelectionRange(o,o),this.focusedOptionIndex.set(-1)}else{let i=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();this.multiple&&e.shiftKey&&i&&this.onOptionSelectRange(e,this.startRangeIndex(),o),this.changeFocusedOptionIndex(e,o)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?g.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?g.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?g.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionValue(e){return this.optionValue?g.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}hasSelectedOption(){return g.isNotEmpty(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[t]))}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let i=-1,o=!1;return this.focusedOptionIndex()!==-1?(i=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),i=i===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):i+this.focusedOptionIndex()):i=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),i!==-1&&(o=!0),i===-1&&this.focusedOptionIndex()===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,i=F.findSingle(this.listViewChild.nativeElement,`li[id="${t}"]`);i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return g.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?g.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(i=>this.isValidOption(i)):-1;return t>-1?t+e+1:e}findNextSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(i=>this.isValidSelectedOption(i)):-1;return t>-1?t+e+1:-1}findPrevSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e>0?g.findLastIndex(this.visibleOptions().slice(0,e),i=>this.isValidSelectedOption(i)):-1;return t>-1?t:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let t=e>0?g.findLastIndex(this.visibleOptions().slice(0,e),i=>this.isValidOption(i)):-1;return t>-1?t:e}findNearestSelectedOptionIndex(e,t=!1){let i=-1;return this.hasSelectedOption()&&(t?(i=this.findPrevSelectedOptionIndex(e),i=i===-1?this.findNextSelectedOptionIndex(e):i):(i=this.findNextSelectedOptionIndex(e),i=i===-1?this.findPrevSelectedOptionIndex(e):i)),i>-1?i:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return this.optionDisabled?g.resolveFieldData(e,this.optionDisabled):!1}isSelected(e){let t=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(i=>g.equals(i,t,this.equalityKey())):g.equals(this.modelValue(),t,this.equalityKey())}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(ae),D(he),D(Ce),D(Te),D(re))};static \u0275cmp=le({type:n,selectors:[["p-listbox"]],contentQueries:function(t,i,o){if(t&1&&(P(o,Se,5),P(o,Fe,5),P(o,Q,4)),t&2){let s;C(s=T())&&(i.headerFacet=s.first),C(s=T())&&(i.footerFacet=s.first),C(s=T())&&(i.templates=s)}},viewQuery:function(t,i){if(t&1&&(M(Ne,5),M(ze,5),M(Pe,5),M(Ge,5),M(Qe,5),M(qe,5)),t&2){let o;C(o=T())&&(i.headerCheckboxViewChild=o.first),C(o=T())&&(i.filterViewChild=o.first),C(o=T())&&(i.lastHiddenFocusableElement=o.first),C(o=T())&&(i.firstHiddenFocusableElement=o.first),C(o=T())&&(i.scroller=o.first),C(o=T())&&(i.listViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[x.HasDecoratorInputTransform,"autoOptionFocus","autoOptionFocus",b],ariaLabel:"ariaLabel",selectOnFocus:[x.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",b],searchLocale:[x.HasDecoratorInputTransform,"searchLocale","searchLocale",b],focusOnHover:[x.HasDecoratorInputTransform,"focusOnHover","focusOnHover",b],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[x.HasDecoratorInputTransform,"lazy","lazy",b],virtualScroll:[x.HasDecoratorInputTransform,"virtualScroll","virtualScroll",b],virtualScrollItemSize:[x.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",X],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[x.HasDecoratorInputTransform,"tabindex","tabindex",X],multiple:[x.HasDecoratorInputTransform,"multiple","multiple",b],style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[x.HasDecoratorInputTransform,"readonly","readonly",b],disabled:[x.HasDecoratorInputTransform,"disabled","disabled",b],checkbox:[x.HasDecoratorInputTransform,"checkbox","checkbox",b],filter:[x.HasDecoratorInputTransform,"filter","filter",b],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[x.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",b],dataKey:"dataKey",showToggleAll:[x.HasDecoratorInputTransform,"showToggleAll","showToggleAll",b],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[x.HasDecoratorInputTransform,"group","group",b],options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[_e([Bt]),ce],ngContentSelectors:$e,decls:16,vars:24,consts:[["firstHiddenFocusableElement",""],["buildInItems",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["filterInput",""],["scroller",""],["list",""],["emptyFilter",""],["empty",""],[3,"focusout","ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"focus","blur","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"input","keydown","blur","value","disabled","tabindex"],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"focus","blur","keydown","tabindex","ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],[1,"p-listbox-footer"]],template:function(t,i){if(t&1){let o=E();ue(Ue),d(0,"div",10),I("focusout",function(_){return m(o),h(i.onFocusout(_))}),d(1,"span",11,0),I("focus",function(_){return m(o),h(i.onFirstHiddenFocus(_))}),u(),p(3,et,3,5,"div",12)(4,ht,5,3,"div",12),d(5,"div",13),p(6,Ot,4,11,"p-scroller",14)(7,It,2,6,"ng-container",15)(8,Qt,5,11,"ng-template",null,1,W),u(),p(10,Ut,3,5,"div",16)(11,$t,2,1,"span",17),d(12,"span",18),L(13),u(),d(14,"span",11,2),I("focus",function(_){return m(o),h(i.onLastHiddenFocus(_))}),u()()}t&2&&(U(i.styleClass),a("ngClass",i.containerClass)("ngStyle",i.style),f("id",i.id),c(),a("tabindex",i.disabled?-1:i.tabindex),f("aria-hidden",!0)("data-p-hidden-focusable",!0),c(2),a("ngIf",i.headerFacet||i.headerTemplate),c(),a("ngIf",i.checkbox&&i.multiple&&i.showToggleAll||i.filter),c(),U(i.listStyleClass),pe("max-height",i.virtualScroll?"auto":i.scrollHeight||"auto"),a("ngClass","p-listbox-list-wrapper")("ngStyle",i.listStyle),c(),a("ngIf",i.virtualScroll),c(),a("ngIf",!i.virtualScroll),c(3),a("ngIf",i.footerFacet||i.footerTemplate),c(),a("ngIf",i.isEmpty()),c(2),A(" ",i.selectedMessageText," "),c(),a("tabindex",i.disabled?-1:i.tabindex),f("aria-hidden",!0)("data-p-hidden-focusable",!0))},dependencies:()=>[ge,xe,be,Oe,ye,Q,we,Ee,Y,Z],styles:[`@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),bi=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=oe({imports:[ve,J,Le,ee,Y,Z,J,ee]})}return n})();function Ke(n,l){let e=R(n),t=R(l);return e.getTime()>t.getTime()}function Ae(n,l){let e=R(n),t=R(l);return+e<+t}var He=class{static valid(l){let e=l.value;return e&&!isNaN(new Date(e).getDate())?null:{dateInvalid:!0}}static max(l){return e=>{let t=new Date(e.value);return(t?Ae(t,l):!0)?null:{dateMax:{actualDate:N(t,"yyyy-MM-dd"),requiredDate:N(l,"yyyy-MM-dd")}}}}static min(l){return e=>{let t=new Date(e.value);return(t?Ke(t,l):!0)?null:{dateMin:{actualDate:N(t,"yyyy-MM-dd"),requiredDate:N(l,"yyyy-MM-dd")}}}}};var Re=class{static required({value:l}){return l?l.hasValidator(ke.required):!1}static passwordMatchValidator(l){let e=l.get("passwordNew")?.value,t=l.get("passwordConfirmation")?.value;return e!==t?(l.get("passwordConfirmation")?.setErrors({noPasswordMatch:!0}),{noPasswordMatch:!0}):(l.get("passwordConfirmation")?.setErrors(null),null)}static verifyUser(l){return e=>{let t=e.value;return l.verifyUser(t).pipe(k(i=>i.data===null?null:{userNotAvailable:!0}))}}static validateUser(l){return e=>{let t=e.value;return l.verifyUser(t).pipe(k(i=>i.data===null?null:{userAvailable:!0}))}}static verifyEmail(l){return e=>{let t=e.value;return l.verifyEmail(t).pipe(k(i=>i.data===null?null:{emailNotAvailable:!0}))}}static verifyPhone(l){return e=>{let t=e.value;return l.verifyPhone(t).pipe(k(i=>i.data===null?null:{phoneNotAvailable:!0}))}}};var ki=n=>l=>n.verifyInternalNumber(l.value).pipe(k(e=>e?{agreementExists:!0}:null));export{He as a,Re as b,ki as c,jt as d,bi as e};
