import{a as Et,b as St}from"./chunk-LZZDBSTP.js";import{b as mt}from"./chunk-SPMLKPHR.js";import{a as Lt,b as Ft}from"./chunk-C2MALXQC.js";import"./chunk-G4OVCVLI.js";import"./chunk-ISADC5UE.js";import"./chunk-PBCIGM6W.js";import{A as we,B as De,Fa as de,Ga as bt,Ia as ht,Ja as xt,Ka as _e,Wa as At,d as Qe,ea as ct,ga as j,ha as z,i as et,ia as J,ja as Q,k as ye,m as tt,ma as pt,n as it,o as Y,oa as X,pa as dt,q as nt,qa as Pe,ra as _t,s as ot,sa as ke,ta as ut,u as rt,ua as gt,v as Ie,va as ft,x as at,ya as Ct,z as lt,za as vt}from"./chunk-QE2E6YRM.js";import{i as Xe,j as K,k as Ze,m as Be,n as st}from"./chunk-YQJQS4JL.js";import{$ as Ye,A as xe,E as Ae,J as oe,K as I,L as w,M as U,N as y,Q as G,_ as W,ba as je,ca as Le,da as T,e as Ke,ea as Fe,fa as re,ga as Ee,ha as Se,k,ma as ze,na as pe,o as N,pa as Je,qa as Te,r as $,s as H,sa as q,u as ce,v as O,x as be,z as he}from"./chunk-CK22UZYV.js";import{Aa as A,Ba as b,Ca as o,E as Ce,H as _,J as V,Ja as le,K as ve,La as p,Ma as B,Na as f,O as C,Oa as Z,Ob as se,P as v,Pa as Ue,Qa as ee,Ra as te,Rb as Me,Sa as ie,Wa as ge,Xa as Ge,_ as r,eb as S,fb as ne,gb as R,ja as d,ka as M,la as c,oa as ue,pa as P,qa as g,ra as L,sa as F,ta as E,tb as We,ua as l,va as m,w as ae,wa as u,yb as me,zb as qe}from"./chunk-EUOB27Q6.js";var kt=t=>({enabled:t});function Vt(t,i){if(t&1&&(l(0,"div",13)(1,"h1"),p(2),m()()),t&2){let e=o();r(2),B(e.BreadcrumbEnum.AGREEMENTS)}}function Mt(t,i){if(t&1&&(l(0,"th",14),p(1),u(2,"p-sortIcon",16),m()),t&2){let e=i.$implicit;c("pSortableColumn",e.field),r(),f(" ",e.header," "),r(),c("field",e.field)}}function Rt(t,i){if(t&1&&(l(0,"tr"),F(1,Mt,3,3,"th",14,L),l(3,"th",15),p(4),m()()),t&2){let e=i.$implicit,n=o();r(),E(e),r(3),f(" ",n.TableEnum.ACTIONS," ")}}function Nt(t,i){if(t&1&&p(0),t&2){let e=o(2).$implicit,n=o().$implicit;f(" ",n[e.field].unit.name," ")}}function $t(t,i){if(t&1&&p(0),t&2){let e=o(2).$implicit,n=o().$implicit;f(" ",n[e.field].state.name," ")}}function Ht(t,i){if(t&1&&d(0,Nt,1,1)(1,$t,1,1),t&2){let e,n=o().$implicit;g(0,(e=n.field)==="administrator"?0:e==="agreementState"?1:-1)}}function Ot(t,i){if(t&1&&(p(0),S(1,"customFormatDate")),t&2){let e=o(4).$implicit;f(" ",ne(1,1,e.subscribedAt)," ")}}function Ut(t,i){if(t&1&&d(0,Ot,2,3),t&2){let e=o(3).$implicit;g(0,e.subscribedAt?0:-1)}}function Gt(t,i){if(t&1&&(p(0),S(1,"customFormatDate")),t&2){let e=o(4).$implicit;f(" ",ne(1,1,e.endedAt)," ")}}function Wt(t,i){t&1&&p(0," Indefinido ")}function qt(t,i){if(t&1&&d(0,Gt,2,3)(1,Wt,1,0),t&2){let e=o(3).$implicit;g(0,e.endedAt?0:1)}}function Kt(t,i){if(t&1&&(p(0),S(1,"yesNo")),t&2){let e=o(3).$implicit;f(" ",ne(1,1,e.isFinancing)," ")}}function Yt(t,i){t&1&&u(0,"p-tag",19)}function jt(t,i){t&1&&u(0,"p-tag",20)}function zt(t,i){if(t&1&&d(0,Yt,1,0,"p-tag",19)(1,jt,1,0),t&2){let e=o(3).$implicit;g(0,e.enabled?0:1)}}function Jt(t,i){if(t&1&&p(0),t&2){let e=o(2).$implicit,n=o().$implicit;f(" ",n[e.field]," ")}}function Qt(t,i){if(t&1&&d(0,Ut,1,1)(1,qt,2,1)(2,Kt,2,3)(3,zt,2,1)(4,Jt,1,1),t&2){let e,n=o().$implicit;g(0,(e=n.field)==="subscribedAt"?0:e==="endedAt"?1:e==="isFinancing"?2:e==="enabled"?3:4)}}function Xt(t,i){if(t&1&&(l(0,"td"),d(1,Ht,2,1)(2,Qt,5,1),m()),t&2){let e=i.$implicit,n=o().$implicit;r(),g(1,n[e.field]!=null&&n[e.field].id?1:-1),r(),g(2,n[e.field]!=null&&n[e.field].id?-1:2)}}function Zt(t,i){if(t&1){let e=A();l(0,"tr",17),F(1,Xt,3,2,"td",null,L),l(3,"td",15)(4,"p-button",18),b("click",function(){let s=C(e).$implicit,a=o();return v(a.selectItem(s))}),m()()()}if(t&2){let e=i.$implicit,n=i.columns,s=i.rowIndex,a=o();c("pSelectableRow",e)("pSelectableRowIndex",s)("ngClass",Ge(4,kt,!e.enabled)),r(),E(n),r(3),c("icon",a.PrimeIcons.ELLIPSIS_V)}}function ei(t,i){if(t&1&&(l(0,"tr")(1,"td"),p(2),m()()),t&2){let e=i.$implicit,n=o();r(),M("colspan",e.length),r(),f(" ",n.messageService.paginatorNoRecordsFound," ")}}function ti(t,i){}function ii(t,i){if(t&1&&u(0,"app-view",12),t&2){let e=o();c("id",e.selectedItem.id)}}var It=(()=>{let i=class i{constructor(){this.authService=_(q),this.coreService=_($),this.administratorsHttpService=_(ze),this.agreementsHttpService=_(Se),this.agreementsService=_(be),this.router=_(se),this.breadcrumbService=_(ce),this.PrimeIcons=k,this.IconButtonActionEnum=w,this.SeverityButtonActionEnum=U,this.LabelButtonActionEnum=I,this.BreadcrumbEnum=y,this.TableEnum=G,this.messageService=_(H),this.messageDialogService=_(O),this.buttonActions=[],this.isButtonActions=!1,this.columns=[],this.search=new Y(""),this.items=[],this.isVisibleAgreementView=!1,this.breadcrumbService.setItems([{label:y.AGREEMENTS}]),this.buildButtonActions(),this.buildColumns(),this.search.valueChanges.pipe(ae(500)).subscribe(n=>{this.findAgreements()})}ngOnInit(){this.findAgreements()}findAgreements(){this.administratorsHttpService.findAgreementsByAdministrator(this.authService.auth.id).subscribe(n=>{this.items=n})}buildColumns(){this.columns=[{field:"number",header:W.number},{field:"internalNumber",header:W.internalNumber},{field:"name",header:W.name},{field:"administrator",header:je.header},{field:"agreementState",header:Ye.state},{field:"subscribedAt",header:W.subscribedAt},{field:"endedAt",header:W.endedAt},{field:"isFinancing",header:W.isFinancing},{field:"enabled",header:W.enabled}]}buildButtonActions(){this.buttonActions=[{id:oe.AGREEMENT,label:I.AGREEMENT,icon:w.AGREEMENT,command:()=>{this.redirectViewAgreement()}},{id:oe.AGREEMENT_PERIOD,label:I.AGREEMENT_PERIOD,icon:w.AGREEMENT_PERIOD,command:()=>{this.selectedItem?.id&&this.redirectTrackingLogList(this.selectedItem.id)}}]}validateButtonActions(n){this.buildButtonActions()}redirectCreateForm(){this.agreementsService.clearAgreement(),this.router.navigate(["/core/agreements","register"])}redirectCompleteForm(n){this.router.navigate(["/core/agreements","register"])}redirectEditForm(n){this.router.navigate(["/core/agreements/update",n])}redirectViewAgreement(){this.isVisibleAgreementView=!0}redirectTrackingLogList(n){this.router.navigate(["/core/agreement-administrator/period-list",n])}remove(n){}paginate(n){}selectItem(n){this.agreementsHttpService.findOne(n.id).subscribe(s=>{this.isButtonActions=!0,this.selectedItem=n,this.validateButtonActions(n),this.agreementsService.agreement=s})}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=V({type:i,selectors:[["app-agreement-list"]],decls:14,vars:14,consts:[["dt",""],[1,"p-toolbar-group-left"],[1,"ml-2",3,"click","icon","label","loading","severity"],[1,"p-toolbar-group-right"],["dataKey","id","styleClass","p-datatable-striped","paginatorPosition","both",3,"value","columns","paginator","rows","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[3,"isHide","buttonActions","enabled"],["header","Convenio",3,"visibleChange","visible","modal"],[3,"id"],[1,"flex"],[3,"pSortableColumn"],[1,"text-center"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex","ngClass"],[3,"click","icon"],["severity","info","value","Registrado"],["severity","danger","value","En Proceso"]],template:function(s,a){if(s&1){let h=A();l(0,"p-toolbar")(1,"div",1)(2,"p-button",2),b("click",function(){return C(h),v(a.findAgreements())}),m()(),u(3,"div",3),m(),l(4,"p-table",4,0),d(6,Vt,3,1,"ng-template",5)(7,Rt,5,1,"ng-template",6)(8,Zt,5,6,"ng-template",7)(9,ei,3,2,"ng-template",8)(10,ti,0,0,"ng-template",9),m(),l(11,"app-button-action",10),b("isHide",function(x){return C(h),v(a.isButtonActions=!x)}),m(),l(12,"p-dialog",11),ie("visibleChange",function(x){return C(h),te(a.isVisibleAgreementView,x)||(a.isVisibleAgreementView=x),v(x)}),d(13,ii,1,1,"app-view",12),m()}s&2&&(r(2),c("icon",a.IconButtonActionEnum.SYNC)("label",a.LabelButtonActionEnum.SYNC)("loading",a.coreService.isLoading)("severity",a.SeverityButtonActionEnum.SYNC),r(2),c("value",a.items)("columns",a.columns)("paginator",!0)("rows",10)("loading",a.coreService.isLoading),r(7),c("buttonActions",a.buttonActions)("enabled",a.isButtonActions),r(),ee("visible",a.isVisibleAgreementView),c("modal",!0),r(),g(13,a.selectedItem&&a.isVisibleAgreementView?13:-1))},dependencies:[We,_e,N,X,K,j,z,Q,J,Ct,de,Lt,Je,Te],styles:[".enabled[_ngcontent-%COMP%]{background-color:var(--red-200)}"]});let t=i;return t})();function ni(t,i){if(t&1&&(l(0,"div",10)(1,"h2"),p(2),S(3,"customFormatDate"),S(4,"customFormatDate"),m()()),t&2){let e=o();r(2),Ue(" ",e.period.name,": ",ne(3,3,e.period.startedAt)," - ",ne(4,5,e.period.endedAt)," ")}}function oi(t,i){if(t&1&&(l(0,"th",11),p(1),u(2,"p-sortIcon",12),m()),t&2){let e=i.$implicit;c("pSortableColumn",e.field),r(),f(" ",e.header," "),r(),c("field",e.field)}}function ri(t,i){if(t&1&&(l(0,"tr"),F(1,oi,3,3,"th",11,L),m()),t&2){let e=i.$implicit;r(),E(e)}}function ai(t,i){if(t&1&&(u(0,"br"),l(1,"b"),p(2,"Comentario: "),m(),p(3)),t&2){let e=o(4).$implicit;r(3),f("",e.observation," ")}}function li(t,i){if(t&1&&(p(0),d(1,ai,4,1)),t&2){let e=o(3).$implicit;Z(" ",e.user.name," ",e.user.lastname," "),r(),g(1,e.observation?1:-1)}}function mi(t,i){if(t&1&&p(0),t&2){let e=o(3).$implicit;f(" ",e.state.name," ")}}function si(t,i){if(t&1&&d(0,li,2,3)(1,mi,1,1),t&2){let e,n=o().$implicit;g(0,(e=n.field)==="user"?0:e==="state"?1:-1)}}function ci(t,i){if(t&1&&(p(0),S(1,"date")),t&2){let e=o(4).$implicit;f(" ",R(1,1,e.registeredAt,"dd/MM/yy - HH:mm")," ")}}function pi(t,i){if(t&1&&d(0,ci,2,4),t&2){let e=o(3).$implicit;g(0,e.registeredAt?0:-1)}}function di(t,i){if(t&1&&p(0),t&2){let e=o(2).$implicit,n=o().$implicit;f(" ",n[e.field]," ")}}function _i(t,i){if(t&1&&d(0,pi,1,1)(1,di,1,1),t&2){let e,n=o().$implicit;g(0,(e=n.field)==="registeredAt"?0:1)}}function ui(t,i){if(t&1&&(l(0,"td"),d(1,si,2,1)(2,_i,2,1),m()),t&2){let e=i.$implicit,n=o().$implicit;r(),g(1,n[e.field]!=null&&n[e.field].id?1:-1),r(),g(2,n[e.field]!=null&&n[e.field].id?-1:2)}}function gi(t,i){if(t&1&&(l(0,"tr",13),F(1,ui,3,2,"td",null,L),m()),t&2){let e=i.$implicit,n=i.columns,s=i.rowIndex;c("pSelectableRow",e)("pSelectableRowIndex",s),r(),E(n)}}function fi(t,i){if(t&1&&(l(0,"tr")(1,"td"),p(2),m()()),t&2){let e=i.$implicit,n=o();r(),M("colspan",e.length),r(),f(" ",n.messageService.paginatorNoRecordsFound," ")}}function Ci(t,i){}var Ve=(()=>{let i=class i{constructor(){this.authService=_(q),this.coreService=_($),this.router=_(se),this.trackingLogsHttpService=_(pe),this.PrimeIcons=k,this.IconButtonActionEnum=w,this.SeverityButtonActionEnum=U,this.LabelButtonActionEnum=I,this.BreadcrumbEnum=y,this.TableEnum=G,this.messageService=_(H),this.messageDialogService=_(O),this.buttonActions=[],this.columns=[],this.search=new Y(""),this.items=[],this.isVisibleAgreementView=!1,this.buildColumns()}ngOnInit(){this.items=this.period.trackingLogs}buildColumns(){this.columns=[{field:"state",header:Fe.state},{field:"registeredAt",header:Fe.registeredAt},{field:"user",header:Fe.user}]}redirectAgreementLogForm(n){this.router.navigate(["/core/agreements/log",n])}downloadLog(){this.trackingLogsHttpService.downloadLog(this.period.id)}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=V({type:i,selectors:[["app-tracking-log-list"]],inputs:{period:"period"},decls:11,vars:9,consts:[["dt",""],[1,"p-toolbar-group-left"],[1,"ml-2",3,"click","icon","label","loading","severity"],[1,"p-toolbar-group-right"],["dataKey","id","styleClass","p-datatable-striped","paginatorPosition","both",3,"value","columns","paginator","rows","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[1,"flex"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"]],template:function(s,a){if(s&1){let h=A();l(0,"p-toolbar")(1,"div",1)(2,"p-button",2),b("click",function(){return C(h),v(a.downloadLog())}),m()(),u(3,"div",3),m(),l(4,"p-table",4,0),d(6,ni,5,7,"ng-template",5)(7,ri,3,0,"ng-template",6)(8,gi,3,2,"ng-template",7)(9,fi,3,2,"ng-template",8)(10,Ci,0,0,"ng-template",9),m()}s&2&&(r(2),c("icon",a.IconButtonActionEnum.DOWNLOAD)("label",a.LabelButtonActionEnum.DOWNLOAD)("loading",a.coreService.isLoading)("severity",a.SeverityButtonActionEnum.SYNC),r(2),c("value",a.items)("columns",a.columns)("paginator",!0)("rows",10)("loading",a.coreService.isLoading))},dependencies:[N,X,K,j,z,Q,J,me,Te],styles:[".enabled[_ngcontent-%COMP%]{background-color:var(--red-200)}"]});let t=i;return t})();var Fi=()=>({width:"50rem"});function Ei(t,i){if(t&1&&(l(0,"div",17)(1,"h2"),p(2),m()()),t&2){let e=o();r(2),B(e.BreadcrumbEnum.ADDITIONAL_DOCUMENTS)}}function Si(t,i){if(t&1&&(l(0,"th",18),p(1),u(2,"p-sortIcon",20),m()),t&2){let e=i.$implicit;c("pSortableColumn",e.field),r(),f(" ",e.header," "),r(),c("field",e.field)}}function Ti(t,i){if(t&1&&(l(0,"tr"),F(1,Si,3,3,"th",18,L),l(3,"th",19),p(4),m()()),t&2){let e=i.$implicit,n=o();r(),E(e),r(3),f(" ",n.TableEnum.ACTIONS," ")}}function yi(t,i){if(t&1&&p(0),t&2){let e=o(4).$implicit;Z(" ",e.user.name," ",e.user.lastname," ")}}function Ii(t,i){if(t&1&&d(0,yi,1,2),t&2){let e=o(3).$implicit;g(0,e!=null&&e.user?0:-1)}}function wi(t,i){if(t&1&&d(0,Ii,1,1),t&2){let e,n=o().$implicit;g(0,(e=n.field)==="user"?0:-1)}}function Di(t,i){if(t&1){let e=A();l(0,"span"),p(1),m(),l(2,"p-button",23),b("click",function(){let s=C(e).$implicit,a=o(5);return v(a.downloadFile(s))}),m(),u(3,"p-divider")}if(t&2){let e=i.$implicit,n=o(5);r(),f("",e.type.name,": "),r(),c("icon",n.IconButtonActionEnum.DOWNLOAD)("label",e.name)("text",!0)("severity",n.SeverityButtonActionEnum.DOWNLOAD)}}function Bi(t,i){if(t&1&&F(0,Di,4,5,null,null,L),t&2){let e=o(3).$implicit;E(e==null?null:e.additionalDocuments)}}function Pi(t,i){if(t&1&&p(0),t&2){let e=o(3).$implicit;Z(" ",e.name," ",e.sequence," ")}}function ki(t,i){if(t&1&&(p(0),S(1,"date")),t&2){let e=o(3).$implicit;f(" ",R(1,1,e.uploadedAt,"dd/MM/y - HH:mm")," ")}}function Vi(t,i){if(t&1&&p(0),t&2){let e=o(2).$implicit,n=o().$implicit;f(" ",n[e.field]," ")}}function Mi(t,i){if(t&1&&d(0,Bi,2,0)(1,Pi,1,2)(2,ki,2,4)(3,Vi,1,1),t&2){let e,n=o().$implicit;g(0,(e=n.field)==="additionalDocuments"?0:e==="name"?1:e==="uploadedAt"?2:3)}}function Ri(t,i){if(t&1&&(l(0,"td"),d(1,wi,1,1)(2,Mi,4,1),m()),t&2){let e=i.$implicit,n=o().$implicit;r(),g(1,n[e.field]!=null&&n[e.field].id?1:-1),r(),g(2,n[e.field]!=null&&n[e.field].id?-1:2)}}function Ni(t,i){if(t&1){let e=A();l(0,"tr",21),F(1,Ri,3,2,"td",null,L),l(3,"td",19)(4,"p-button",22),b("click",function(){let s=C(e).$implicit,a=o();return v(a.remove(s.id))}),m()()()}if(t&2){let e=i.$implicit,n=i.columns,s=i.rowIndex,a=o();c("pSelectableRow",e)("pSelectableRowIndex",s),r(),E(n),r(3),c("icon",a.PrimeIcons.TRASH)}}function $i(t,i){if(t&1&&(l(0,"tr")(1,"td"),p(2),m()()),t&2){let e=i.$implicit,n=o();r(),M("colspan",e.length),r(),f(" ",n.messageService.paginatorNoRecordsFound," ")}}function Hi(t,i){}function Oi(t,i){if(t&1&&(u(0,"i"),l(1,"div",36),p(2),m()),t&2){let e=o(3);P(e.PrimeIcons.FILE_PDF),r(2),B(e.reportFileField.value==null?null:e.reportFileField.value.name)}}function Ui(t,i){t&1&&(l(0,"div",29)(1,"p-messages",34),d(2,Oi,3,3,"ng-template",35),m()())}function Gi(t,i){if(t&1&&(u(0,"i"),l(1,"div",36),p(2),m()),t&2){let e=o(3);P(e.PrimeIcons.FILE_PDF),r(2),B(e.evidenceFileField.value==null?null:e.evidenceFileField.value.name)}}function Wi(t,i){t&1&&(l(0,"div",29)(1,"p-messages",34),d(2,Gi,3,3,"ng-template",35),m()())}function qi(t,i){if(t&1){let e=A();l(0,"form",24)(1,"div",25),u(2,"label",26),l(3,"p-fileUpload",27,1),b("uploadHandler",function(s){C(e);let a=le(4),h=o();return v(h.uploadReportFile(s,a))}),m(),u(5,"small",28),m(),d(6,Ui,3,0,"div",29),l(7,"div",25),u(8,"label",30),l(9,"p-fileUpload",31,1),b("uploadHandler",function(s){C(e);let a=le(4),h=o();return v(h.uploadEvidenceFile(s,a))}),m(),u(11,"small",28),m(),d(12,Wi,3,0,"div",29),l(13,"div",29),u(14,"label",32)(15,"textarea",33)(16,"small",28),m()()}if(t&2){let e=o();c("formGroup",e.form),r(2),c("label",e.AdditionalDocumentEnum.reportFile)("required",e.reportFileField),r(),c("chooseIcon",e.PrimeIcons.UPLOAD)("auto",!0)("customUpload",!0),r(2),c("errors",e.reportFileField.errors)("touched",e.reportFileField.touched)("dirty",e.reportFileField.dirty),r(),g(6,e.reportFileField.value?6:-1),r(2),c("label",e.AdditionalDocumentEnum.evidenceFile)("required",e.evidenceFileField),r(),c("chooseIcon",e.PrimeIcons.UPLOAD)("auto",!0)("customUpload",!0),r(2),c("errors",e.evidenceFileField.errors)("touched",e.evidenceFileField.touched)("dirty",e.evidenceFileField.dirty),r(),g(12,e.evidenceFileField.value?12:-1),r(2),c("label",e.AdditionalDocumentEnum.detail)("required",e.detailField),r(2),c("errors",e.detailField.errors)("touched",e.detailField.touched)("dirty",e.detailField.dirty)}}function Ki(t,i){if(t&1){let e=A();l(0,"p-button",37),b("click",function(){C(e);let s=o();return v(s.isVisibleFilesModal=!1)}),m(),l(1,"p-button",38),b("click",function(){C(e);let s=o();return v(s.onUpload())}),m()}if(t&2){let e=o();c("label",e.LabelButtonActionEnum.CANCEL)("icon",e.IconButtonActionEnum.CANCEL)("text",!0)("severity",e.SeverityButtonActionEnum.CANCEL),r(),c("icon",e.IconButtonActionEnum.REPORT)("label",e.LabelButtonActionEnum.REPORT)("severity",e.SeverityButtonActionEnum.REPORT)}}var wt=(()=>{let i=class i{constructor(){this.authService=_(q),this.coreService=_($),this.formBuilder=_(Ie),this.cataloguesHttpService=_(he),this.trackingLogsHttpService=_(pe),this.filesHttpService=_(Ee),this.confirmationService=_(Ke),this.breadcrumbService=_(ce),this.PrimeIcons=k,this.IconButtonActionEnum=w,this.SeverityButtonActionEnum=U,this.LabelButtonActionEnum=I,this.BreadcrumbEnum=y,this.TableEnum=G,this.messageService=_(H),this.messageDialogService=_(O),this.buttonActions=[],this.isButtonActions=!1,this.columns=[],this.search=new Y(""),this.items=[],this.formErrors=[],this.types=[],this.isVisibleFilesModal=!1,this.isVisibleTrackingLogModal=!1,this.AddendumEnum=Le,this.CatalogueTrackingLogsStateEnum=Ae,this.AdditionalDocumentEnum=re,this.breadcrumbService.setItems([{label:y.AGREEMENTS,routerLink:["/core/agreement-administrator/agreement-list"]},{label:y.PERIODS}]),this.buildForm(),this.buildButtonActions(),this.buildColumns(),this.search.valueChanges.pipe(ae(500)).subscribe(n=>{this.findAdditionalDocumentsByAgreement()})}ngOnInit(){this.findAdditionalDocumentsByAgreement(),this.loadTypes()}buildForm(){this.form=this.formBuilder.group({reportFile:[null],evidenceFile:[null],detail:[null,ye.required]})}findAdditionalDocumentsByAgreement(){this.trackingLogsHttpService.findAdditionalDocumentsByAgreement(this.agreementId).subscribe(n=>{this.items=n})}loadTypes(){this.types=this.cataloguesHttpService.findByType(xe.PERIODS_TRACKING_LOG)}buildColumns(){this.columns=[{field:"name",header:re.name},{field:"detail",header:re.detail},{field:"additionalDocuments",header:re.additionalDocuments},{field:"uploadedAt",header:re.uploadedAt},{field:"user",header:re.user}]}buildButtonActions(){this.buttonActions=[{id:oe.TRACKING_LOG,label:I.TRACKING_LOG,icon:w.TRACKING_LOG,command:()=>{this.isVisibleTrackingLogModal=!0}}]}validateButtonActions(n){this.buildButtonActions()}remove(n){this.confirmationService.confirm({key:"confirmDialog",message:"No se podr\xE1 recuperar la informaci\xF3n",header:"\xBFEst\xE1 seguro de eliminar?",icon:k.TRASH,acceptLabel:"Si",rejectLabel:"No",rejectButtonStyleClass:"p-button-text",accept:()=>{this.trackingLogsHttpService.deleteAdditionalDocument(n).subscribe(s=>{this.findAdditionalDocumentsByAgreement()})}})}selectItem(n){this.isButtonActions=!0,this.selectedItem=n,this.validateButtonActions(n)}showFilesModal(){this.isVisibleFilesModal=!0}downloadFile(n){this.filesHttpService.downloadFile(n)}onUpload(){if(this.validateFilesForm()){let n=new FormData;n.append("report",this.reportFileField.value),n.append("evidence",this.evidenceFileField.value),n.append("detail",this.detailField.value),this.trackingLogsHttpService.createAdditionalDocument(this.agreementId,n).subscribe(s=>{this.findAdditionalDocumentsByAgreement(),this.isVisibleFilesModal=!1})}else this.messageDialogService.fieldErrors(this.formErrors)}validateFilesForm(){return this.formErrors=[],this.reportFileField.invalid&&this.formErrors.push(T.reportFile),this.evidenceFileField.invalid&&this.formErrors.push(T.evidenceFile),this.formErrors.length===0}uploadReportFile(n,s){this.reportFileField.patchValue(n.files[0]),s.clear()}uploadEvidenceFile(n,s){this.evidenceFileField.patchValue(n.files[0]),s.clear()}get reportFileField(){return this.form.controls.reportFile}get evidenceFileField(){return this.form.controls.evidenceFile}get detailField(){return this.form.controls.detail}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=V({type:i,selectors:[["app-additional-document-list"]],inputs:{agreementId:"agreementId"},decls:17,vars:20,consts:[["dt",""],["uploadFiles",""],[1,"p-toolbar-group-left"],[3,"click","icon","label","loading","severity"],[1,"ml-2",3,"click","icon","label","loading","severity"],[1,"p-toolbar-group-right"],["dataKey","id","styleClass","p-datatable-striped","paginatorPosition","both",3,"value","columns","paginator","rows","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[3,"isHide","buttonActions","enabled"],["header","Subir archivos",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["key","confirmDialog"],[1,"flex"],[3,"pSortableColumn"],[1,"text-center"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],["severity","danger",3,"click","icon"],[1,"ml-2",3,"click","icon","label","text","severity"],[1,"p-fluid","grid",3,"formGroup"],[1,"field","col-12","xl:col-6","lg:col-6","md:col-6","sm:col-12"],["appLabel","","for","report",3,"label","required"],["id","report","mode","basic","chooseLabel","Cargar","name","files[]","accept",".pdf,.zip,.rar","maxFileSize","5242880",3,"uploadHandler","chooseIcon","auto","customUpload"],["appErrorMessage","",3,"errors","touched","dirty"],[1,"field","col-12","xl:col-12","lg:col-12","md:col-12","sm:col-12"],["appLabel","","for","evidence",3,"label","required"],["id","evidence","mode","basic","chooseLabel","Cargar","name","files[]","accept",".pdf,.zip,.rar","maxFileSize","5242880",3,"uploadHandler","chooseIcon","auto","customUpload"],["appLabel","","for","detail",3,"label","required"],["pInputTextarea","","id","detail","formControlName","detail"],["severity","info"],["pTemplate",""],[1,"ml-2"],[3,"click","label","icon","text","severity"],[3,"click","icon","label","severity"]],template:function(s,a){if(s&1){let h=A();l(0,"p-toolbar")(1,"div",2)(2,"p-button",3),b("click",function(){return C(h),v(a.showFilesModal())}),m(),l(3,"p-button",4),b("click",function(){return C(h),v(a.findAdditionalDocumentsByAgreement())}),m()(),u(4,"div",5),m(),l(5,"p-table",6,0),d(7,Ei,3,1,"ng-template",7)(8,Ti,5,1,"ng-template",8)(9,Ni,5,3,"ng-template",9)(10,$i,3,2,"ng-template",10)(11,Hi,0,0,"ng-template",11),m(),l(12,"app-button-action",12),b("isHide",function(x){return C(h),v(a.isButtonActions=!x)}),m(),l(13,"p-dialog",13),ie("visibleChange",function(x){return C(h),te(a.isVisibleFilesModal,x)||(a.isVisibleFilesModal=x),v(x)}),d(14,qi,17,24,"ng-template",14)(15,Ki,2,7,"ng-template",15),m(),u(16,"p-confirmDialog",16)}s&2&&(r(2),c("icon",a.IconButtonActionEnum.CREATE)("label",a.LabelButtonActionEnum.CREATE_ADDITIONAL_DOCUMENT)("loading",a.coreService.isLoading)("severity",a.SeverityButtonActionEnum.CREATE),r(),c("icon",a.IconButtonActionEnum.SYNC)("label",a.LabelButtonActionEnum.SYNC)("loading",a.coreService.isLoading)("severity",a.SeverityButtonActionEnum.SYNC),r(2),c("value",a.items)("columns",a.columns)("paginator",!0)("rows",10)("loading",a.coreService.isLoading),r(7),c("buttonActions",a.buttonActions)("enabled",a.isButtonActions),r(),ue(ge(19,Fi)),ee("visible",a.isVisibleFilesModal),c("modal",!0))},dependencies:[we,De,_e,N,X,K,nt,et,tt,it,j,z,Q,J,ot,rt,de,ke,Pe,Be,ht,gt,me],styles:[".enabled[_ngcontent-%COMP%]{background-color:var(--red-200)}"]});let t=i;return t})();var ji=()=>({width:"50rem"}),zi=()=>({width:"100%"});function Ji(t,i){if(t&1){let e=A();l(0,"p-button",19),b("click",function(){C(e);let s=o();return v(s.createPeriod())}),m()}if(t&2){let e=o();c("icon",e.IconButtonActionEnum.CREATE)("label",e.LabelButtonActionEnum.CREATE_PERIOD)("loading",e.coreService.isLoading)("severity",e.SeverityButtonActionEnum.CREATE)}}function Qi(t,i){if(t&1&&(l(0,"h2"),p(1),m(),l(2,"h3"),p(3,"Descargue aqu\xED el Formato de Informe de avance semestral del convenio:"),m(),u(4,"a",20)),t&2){let e=o();r(),B(e.BreadcrumbEnum.PERIODS),r(3),c("label",e.LabelButtonActionEnum.DOWNLOAD)("icon",e.IconButtonActionEnum.DOWNLOAD)}}function Xi(t,i){if(t&1&&(l(0,"th",21),p(1),u(2,"p-sortIcon",23),m()),t&2){let e=i.$implicit;c("pSortableColumn",e.field),r(),f(" ",e.header," "),r(),c("field",e.field)}}function Zi(t,i){if(t&1&&(l(0,"tr"),F(1,Xi,3,3,"th",21,L),l(3,"th",22),p(4),m()()),t&2){let e=i.$implicit,n=o();r(),E(e),r(3),f(" ",n.TableEnum.ACTIONS," ")}}function en(t,i){if(t&1&&p(0),t&2){let e=o(2).$implicit,n=o().$implicit;f(" ",n[e.field].unit.name," ")}}function tn(t,i){if(t&1&&d(0,en,1,1),t&2){let e,n=o().$implicit;g(0,(e=n.field)==="administrator"?0:-1)}}function nn(t,i){if(t&1){let e=A();l(0,"p-button",27),b("click",function(){C(e);let s=o(4).$implicit,a=o();return v(a.showFilesModal(s))}),m()}if(t&2){let e=o(5);c("icon",e.IconButtonActionEnum.ADD)("pTooltip",e.LabelButtonActionEnum.ADD)("severity",e.SeverityButtonActionEnum.ADD)}}function on(t,i){if(t&1){let e=A();l(0,"span"),p(1),m(),l(2,"p-button",28),b("click",function(){let s=C(e).$implicit,a=o(6);return v(a.downloadFile(s))}),m(),u(3,"p-divider")}if(t&2){let e=i.$implicit,n=o(6);r(),f("",e.type.name,": "),r(),c("icon",n.IconButtonActionEnum.DOWNLOAD)("label",e.name)("text",!0)("severity",n.SeverityButtonActionEnum.DOWNLOAD)}}function rn(t,i){if(t&1&&F(0,on,4,5,null,null,L),t&2){let e=o(4).$implicit;E(e==null?null:e.trackingLogDocuments)}}function an(t,i){if(t&1&&d(0,nn,1,3,"p-button",26)(1,rn,2,0),t&2){let e=o(3).$implicit,n=o();g(0,!(e!=null&&e.trackingLog)||e.trackingLog.state.code===n.CatalogueTrackingLogsStateEnum.REFUSED?0:1)}}function ln(t,i){if(t&1&&u(0,"i",30),t&2){let e=o(6);P(e.PrimeIcons.CIRCLE_FILL)}}function mn(t,i){if(t&1&&u(0,"i",31),t&2){let e=o(6);P(e.PrimeIcons.CIRCLE_FILL)}}function sn(t,i){if(t&1&&d(0,ln,1,2,"i",29)(1,mn,1,2),t&2){let e=o(4).$implicit;g(0,e.trackingLog.state.code==="REPORTED"||e.trackingLog.state.code==="ACCEPTED"?0:1)}}function cn(t,i){if(t&1&&u(0,"i",31),t&2){let e=o(5);P(e.PrimeIcons.CIRCLE_FILL)}}function pn(t,i){if(t&1&&d(0,sn,2,1)(1,cn,1,2),t&2){let e=o(3).$implicit;g(0,e.trackingLog?0:1)}}function dn(t,i){if(t&1&&(p(0),u(1,"br"),p(2),S(3,"date"),u(4,"br"),p(5),S(6,"date")),t&2){let e=o(3).$implicit;f(" ",e.name," "),r(2),f(" ",R(3,3,e.startedAt,"d MMMM y")," - "),r(3),f(" ",R(6,6,e.endedAt,"d MMMM y")," ")}}function _n(t,i){if(t&1&&(p(0),S(1,"date")),t&2){let e=o(3).$implicit;f(" ",R(1,1,e.uploadedAt,"dd/MM/y - HH:mm")," ")}}function un(t,i){if(t&1&&p(0),t&2){let e=o(3).$implicit;f(" ",e.trackingLog==null||e.trackingLog.state==null?null:e.trackingLog.state.name," ")}}function gn(t,i){if(t&1&&p(0),t&2){let e=o(4).$implicit;Z(" ",e.trackingLog.user.name," ",e.trackingLog.user.lastname," ")}}function fn(t,i){if(t&1&&d(0,gn,1,2),t&2){let e=o(3).$implicit;g(0,e.trackingLog!=null&&e.trackingLog.user?0:-1)}}function Cn(t,i){if(t&1&&p(0),t&2){let e=o(2).$implicit,n=o().$implicit;f(" ",n[e.field]," ")}}function vn(t,i){if(t&1&&d(0,an,2,1)(1,pn,2,1)(2,dn,7,9)(3,_n,2,4)(4,un,1,1)(5,fn,1,1)(6,Cn,1,1),t&2){let e,n=o().$implicit;g(0,(e=n.field)==="files"?0:e==="trafficLight"?1:e==="name"?2:e==="uploadedAt"?3:e==="state"?4:e==="user"?5:6)}}function bn(t,i){if(t&1&&(l(0,"td"),d(1,tn,1,1)(2,vn,7,1),m()),t&2){let e=i.$implicit,n=o().$implicit;r(),g(1,n[e.field]!=null&&n[e.field].id?1:-1),r(),g(2,n[e.field]!=null&&n[e.field].id?-1:2)}}function hn(t,i){if(t&1){let e=A();l(0,"tr",24),F(1,bn,3,2,"td",null,L),l(3,"td",22)(4,"p-button",25),b("click",function(){let s=C(e).$implicit,a=o();return v(a.selectItem(s))}),m()()()}if(t&2){let e=i.$implicit,n=i.columns,s=i.rowIndex,a=o();c("pSelectableRow",e)("pSelectableRowIndex",s),r(),E(n),r(3),c("icon",a.PrimeIcons.ELLIPSIS_V)}}function xn(t,i){if(t&1&&(l(0,"tr")(1,"td"),p(2),m()()),t&2){let e=i.$implicit,n=o();r(),M("colspan",e.length),r(),f(" ",n.messageService.paginatorNoRecordsFound," ")}}function An(t,i){}function Ln(t,i){if(t&1&&(u(0,"i"),l(1,"div",42),p(2),m()),t&2){let e=o(3);P(e.PrimeIcons.FILE_PDF),r(2),B(e.reportFileField.value==null?null:e.reportFileField.value.name)}}function Fn(t,i){t&1&&(l(0,"div",37)(1,"p-messages",40),d(2,Ln,3,3,"ng-template",41),m()())}function En(t,i){if(t&1&&(u(0,"i"),l(1,"div",42),p(2),m()),t&2){let e=o(3);P(e.PrimeIcons.FILE_PDF),r(2),B(e.evidenceFileField.value==null?null:e.evidenceFileField.value.name)}}function Sn(t,i){t&1&&(l(0,"div",37)(1,"p-messages",40),d(2,En,3,3,"ng-template",41),m()())}function Tn(t,i){if(t&1){let e=A();l(0,"div",32)(1,"div",33),u(2,"label",34),l(3,"p-fileUpload",35,1),b("uploadHandler",function(s){C(e);let a=le(4),h=o();return v(h.uploadReportFile(s,a))}),m(),u(5,"small",36),m(),d(6,Fn,3,0,"div",37),l(7,"div",33),u(8,"label",38),l(9,"p-fileUpload",39,1),b("uploadHandler",function(s){C(e);let a=le(4),h=o();return v(h.uploadEvidenceFile(s,a))}),m(),u(11,"small",36),m(),d(12,Sn,3,0,"div",37),m()}if(t&2){let e=o();r(2),c("label",e.PeriodEnum.reportFile)("required",e.reportFileField),r(),c("chooseIcon",e.PrimeIcons.UPLOAD)("auto",!0)("customUpload",!0),r(2),c("errors",e.reportFileField.errors)("touched",e.reportFileField.touched)("dirty",e.reportFileField.dirty),r(),g(6,e.reportFileField.value?6:-1),r(2),c("label",e.PeriodEnum.evidenceFile)("required",e.evidenceFileField),r(),c("chooseIcon",e.PrimeIcons.UPLOAD)("auto",!0)("customUpload",!0),r(2),c("errors",e.evidenceFileField.errors)("touched",e.evidenceFileField.touched)("dirty",e.evidenceFileField.dirty),r(),g(12,e.evidenceFileField.value?12:-1)}}function yn(t,i){if(t&1){let e=A();l(0,"p-button",43),b("click",function(){C(e);let s=o();return v(s.isVisibleFilesModal=!1)}),m(),l(1,"p-button",44),b("click",function(){C(e);let s=o();return v(s.onUpload())}),m()}if(t&2){let e=o();c("label",e.LabelButtonActionEnum.CANCEL)("icon",e.IconButtonActionEnum.CANCEL)("text",!0)("severity",e.SeverityButtonActionEnum.CANCEL),r(),c("icon",e.IconButtonActionEnum.UPLOAD)("label",e.LabelButtonActionEnum.UPLOAD)("severity",e.SeverityButtonActionEnum.UPLOAD)}}function In(t,i){if(t&1&&u(0,"app-tracking-log-list",18),t&2){let e=o();c("period",e.selectedItem)}}var Dt=(()=>{let i=class i{constructor(){this.authService=_(q),this.coreService=_($),this.formBuilder=_(Ie),this.cataloguesHttpService=_(he),this.trackingLogsHttpService=_(pe),this.agreementsHttpService=_(Se),this.filesHttpService=_(Ee),this.agreementsService=_(be),this.router=_(se),this.breadcrumbService=_(ce),this.PrimeIcons=k,this.IconButtonActionEnum=w,this.SeverityButtonActionEnum=U,this.LabelButtonActionEnum=I,this.BreadcrumbEnum=y,this.TableEnum=G,this.messageService=_(H),this.messageDialogService=_(O),this.buttonActions=[],this.isButtonActions=!1,this.columns=[],this.search=new Y(""),this.items=[],this.formErrors=[],this.types=[],this.isVisibleFilesModal=!1,this.isVisibleTrackingLogModal=!1,this.AddendumEnum=Le,this.CatalogueTrackingLogsStateEnum=Ae,this.PeriodEnum=T,this.breadcrumbService.setItems([{label:y.AGREEMENTS,routerLink:["/core/agreement-administrator/agreement-list"]},{label:y.PERIODS}]),this.buildForm(),this.buildButtonActions(),this.buildColumns(),this.search.valueChanges.pipe(ae(500)).subscribe(n=>{this.findPeriodsByAgreement()})}ngOnInit(){this.findPeriodsByAgreement(),this.findAgreement(this.agreementId),this.loadTypes()}buildForm(){this.form=this.formBuilder.group({reportFile:[null,ye.required],evidenceFile:[null]})}findAgreement(n){this.agreementsHttpService.findOne(n).subscribe(s=>{this.agreement=s})}findPeriodsByAgreement(){this.trackingLogsHttpService.findPeriodsByAgreement(this.agreementId).subscribe(n=>{this.items=n})}loadTypes(){this.types=this.cataloguesHttpService.findByType(xe.PERIODS_TRACKING_LOG)}createPeriod(){this.trackingLogsHttpService.createPeriod(this.agreementId).subscribe(n=>{this.findPeriodsByAgreement()})}buildColumns(){this.columns=[{field:"name",header:T.reportPeriod},{field:"documentName",header:T.name},{field:"files",header:T.documentName},{field:"trafficLight",header:T.trafficLight},{field:"uploadedAt",header:T.uploadedAt},{field:"user",header:T.user},{field:"state",header:T.state}]}buildButtonActions(){this.buttonActions=[{id:oe.TRACKING_LOG,label:I.TRACKING_LOG,icon:w.TRACKING_LOG,command:()=>{this.isVisibleTrackingLogModal=!0}}]}validateButtonActions(n){this.buildButtonActions()}remove(n){}paginate(n){}selectItem(n){this.isButtonActions=!0,this.selectedItem=n,this.validateButtonActions(n)}showFilesModal(n){this.selectedItem=n,this.isVisibleFilesModal=!0}downloadFile(n){this.filesHttpService.downloadFile(n)}onUpload(){if(this.validateFilesForm()){let n=new FormData;n.append("report",this.reportFileField.value),n.append("evidence",this.evidenceFileField.value),this.trackingLogsHttpService.createTrackingLog(this.selectedItem.id,n).subscribe(s=>{this.findPeriodsByAgreement(),this.isVisibleFilesModal=!1,this.reportFileField.setValue(null),this.evidenceFileField.setValue(null)})}else this.messageDialogService.fieldErrors(this.formErrors)}validateFilesForm(){return this.formErrors=[],this.reportFileField.invalid&&this.formErrors.push(T.reportFile),this.evidenceFileField.invalid&&this.formErrors.push(T.evidenceFile),this.formErrors.length===0}uploadReportFile(n,s){this.reportFileField.patchValue(n.files[0]),s.clear()}uploadEvidenceFile(n,s){this.evidenceFileField.patchValue(n.files[0]),s.clear()}get reportFileField(){return this.form.controls.reportFile}get evidenceFileField(){return this.form.controls.evidenceFile}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=V({type:i,selectors:[["app-agreement-list"]],inputs:{agreementId:"agreementId"},decls:19,vars:24,consts:[["dt",""],["uploadFiles",""],[1,"p-toolbar-group-left"],[3,"icon","label","loading","severity"],[1,"ml-2",3,"click","icon","label","loading","severity"],[1,"p-toolbar-group-right"],["dataKey","id","styleClass","p-datatable-striped","paginatorPosition","both",3,"value","columns","paginator","rows","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[3,"agreementId"],[3,"isHide","buttonActions","enabled"],["header","Subir Archivos",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Bit\xE1cora",3,"visibleChange","visible","modal"],[3,"period"],[3,"click","icon","label","loading","severity"],["pButton","","target","_blank","href","assets/files/informe_periodo.pdf",3,"label","icon"],[3,"pSortableColumn"],[1,"text-center"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[3,"click","icon"],[1,"ml-2",3,"icon","pTooltip","severity"],[1,"ml-2",3,"click","icon","pTooltip","severity"],[1,"ml-2",3,"click","icon","label","text","severity"],[2,"color","var(--green-400)","font-size","1.5rem",3,"class"],[2,"color","var(--green-400)","font-size","1.5rem"],[2,"color","var(--red-400)","font-size","1.5rem"],[1,"p-fluid","grid"],[1,"field","col-12","xl:col-6","lg:col-6","md:col-6","sm:col-12"],["appLabel","","for","report",3,"label","required"],["id","report","mode","basic","chooseLabel","Cargar","name","files[]","accept",".pdf","maxFileSize","5242880",3,"uploadHandler","chooseIcon","auto","customUpload"],["appErrorMessage","",3,"errors","touched","dirty"],[1,"field","col-12","xl:col-12","lg:col-12","md:col-12","sm:col-12"],["appLabel","","for","evidence",3,"label","required"],["id","evidence","mode","basic","chooseLabel","Cargar","name","files[]","accept",".pdf,.zip,.rar","maxFileSize","5242880",3,"uploadHandler","chooseIcon","auto","customUpload"],["severity","info"],["pTemplate",""],[1,"ml-2"],[3,"click","label","icon","text","severity"],[3,"click","icon","label","severity"]],template:function(s,a){if(s&1){let h=A();l(0,"p-toolbar")(1,"div",2),d(2,Ji,1,4,"p-button",3),l(3,"p-button",4),b("click",function(){return C(h),v(a.findPeriodsByAgreement())}),m()(),u(4,"div",5),m(),l(5,"p-table",6,0),d(7,Qi,5,3,"ng-template",7)(8,Zi,5,1,"ng-template",8)(9,hn,5,3,"ng-template",9)(10,xn,3,2,"ng-template",10)(11,An,0,0,"ng-template",11),m(),u(12,"app-additional-document-list",12),l(13,"app-button-action",13),b("isHide",function(x){return C(h),v(a.isButtonActions=!x)}),m(),l(14,"p-dialog",14),ie("visibleChange",function(x){return C(h),te(a.isVisibleFilesModal,x)||(a.isVisibleFilesModal=x),v(x)}),d(15,Tn,13,18,"ng-template",15)(16,yn,2,7,"ng-template",16),m(),l(17,"p-dialog",17),ie("visibleChange",function(x){return C(h),te(a.isVisibleTrackingLogModal,x)||(a.isVisibleTrackingLogModal=x),v(x)}),d(18,In,1,1,"app-tracking-log-list",18),m()}s&2&&(r(2),g(2,a.agreement&&!a.agreement.isFinishDate?2:-1),r(),c("icon",a.IconButtonActionEnum.SYNC)("label",a.LabelButtonActionEnum.SYNC)("loading",a.coreService.isLoading)("severity",a.SeverityButtonActionEnum.SYNC),r(2),c("value",a.items)("columns",a.columns)("paginator",!0)("rows",10)("loading",a.coreService.isLoading),r(7),c("agreementId",a.agreementId),r(),c("buttonActions",a.buttonActions)("enabled",a.isButtonActions),r(),ue(ge(22,ji)),ee("visible",a.isVisibleFilesModal),c("modal",!0),r(3),ue(ge(23,zi)),ee("visible",a.isVisibleTrackingLogModal),c("modal",!0),r(),g(18,a.isVisibleTrackingLogModal?18:-1))},dependencies:[we,De,_e,Qe,N,X,Xe,K,j,z,Q,J,de,ke,Pe,Be,Ve,wt,me],styles:[".enabled[_ngcontent-%COMP%]{background-color:var(--red-200)}"]});let t=i;return t})();var wn=[{path:"agreement-list",component:It},{path:"period-list/:agreementId",component:Dt},{path:"tracking-log-list",component:Ve}],Bt=(()=>{let i=class i{};i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=Ce({imports:[Me.forChild(wn),Me]});let t=i;return t})();var ar=(()=>{let i=class i{};i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=Ce({imports:[qe,Bt,At,dt,Ze,ct,pt,mt,vt,at,lt,bt,Ft,Et,St,ut,_t,st,xt,ft]});let t=i;return t})();export{ar as AgreementAdministratorModule};
