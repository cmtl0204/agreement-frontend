<p-panel [header]="AgreementSectionFormEnum.addendum">
  <ng-template pTemplate="content">
    <p-table
      [value]="agreement.addendums"
      styleClass="p-datatable-striped"
      [columns]="addendumColumns"
      [tableStyle]="{ width: '100%' }">

      <ng-template pTemplate="header">
        <tr>
          @for (col of addendumColumns; track col) {
            <th [pSortableColumn]="col.field">
              {{ col.header }}
              <p-sortIcon [field]="col.field"></p-sortIcon>
            </th>
          }
          <th>{{ TableEnum.ACTIONS }}</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-item>
        @for (file of item.files; track file.id) {
          <tr>
            <td>{{ item.description }}</td>
            <td>{{ file?.name }}</td>
            <td>
              <p-button
                [icon]="IconButtonActionEnum.DOWNLOAD"
                [pTooltip]="LabelButtonActionEnum.DOWNLOAD"
                [severity]="SeverityButtonActionEnum.DOWNLOAD"
                (click)="download(file)"/>
            </td>
          </tr>
        }
      </ng-template>

      <ng-template pTemplate="emptymessage" let-columns>
        <tr>
          <td [attr.colspan]="columns.length">
            No existen registros de Adendas
          </td>
        </tr>
      </ng-template>
    </p-table>
  </ng-template>
</p-panel>
