<div class="grid">
  <p-panel class="col-12">
    <ng-template pTemplate="header">
      <h3>Ministerio de Turismo</h3>
    </ng-template>

    <ng-container *ngIf="agreement.internalInstitutions">
      <ng-template pTemplate="content">
        <p-table [value]="agreement.internalInstitutions" styleClass="p-datatable-striped"
                 [tableStyle]="{'width':'100%'}">
          <ng-template pTemplate="header">
            <tr>
              <th *ngFor="let col of internalInstitutionColumns" [pSortableColumn]="col.field">
                {{ col.header }}
                <p-sortIcon [field]="col.field"></p-sortIcon>
              </th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-item>
            <tr *ngFor="let detail of item.internalInstitutionDetails">
              <td>{{ item.name }}</td>
              <td>{{ detail.unit?.name }}</td>
              <td>{{ detail.position?.name }}</td>
              <td>{{ item.personType?.name }}</td>
            </tr>
          </ng-template>
        </p-table>
      </ng-template>
    </ng-container>
  </p-panel>

  <p-panel class="col-12">
    <ng-template pTemplate="header">
      <h3>Comparecientes</h3>
    </ng-template>

    <ng-container *ngIf="agreement.externalInstitutions">
      <ng-template pTemplate="content">
        <p-table [value]="agreement.externalInstitutions" styleClass="p-datatable-striped"
                 [tableStyle]="{'width':'100%'}">
          <ng-template pTemplate="header">
            <tr>
              <th *ngFor="let col of externalInstitutionsColumns" [pSortableColumn]="col.field">
                {{ col.header }}
                <p-sortIcon [field]="col.field"></p-sortIcon>
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr *ngFor="let detail of item.externalInstitutionDetails">
              <td>{{ item.name }}</td>
              <td>{{ detail.position }}</td>
              <td>{{ detail.unit }}</td>
              <td>{{ item.personType?.name }}</td>
            </tr>
          </ng-template>
        </p-table>
      </ng-template>
    </ng-container>
  </p-panel>
</div>
